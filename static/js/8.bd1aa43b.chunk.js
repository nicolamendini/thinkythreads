(this.webpackJsonpthinkythreads=this.webpackJsonpthinkythreads||[]).push([[8],{297:function(e,t,o){"use strict";o.r(t);var n=o(5),r=o(0),c=o(148),s=o.n(c),a=(o(236),o(237)),i=o.n(a),l=(o(238),o(145)),d=o(87),b=o(144),u=o(293),j=o(142),h=o(9),p=function(e){var t=e.selectedNote,o=e.setBackColor,n=e.setHasChanged;return Object(h.jsx)(j.a,{trigger:Object(h.jsx)("div",{children:Object(h.jsx)(d.c,{className:"tools-btn",size:"1.6em"})}),nested:!0,modal:!0,position:"right",children:Object(h.jsx)("div",{className:"picker",children:Object(h.jsx)(u.a,{onChange:function(e){return function(e,t,o,n){switch(n(!0),t.colorPreview=e.hex,e.hex){case"#b80000":t.color="#EB9694";break;case"#db3e00":t.color="#FAD0C3";break;case"#fccb00":t.color="#FEF3BD";break;case"#008b02":t.color="#C1E1C5";break;case"#006b76":t.color="#BEDADC";break;case"#1273de":t.color="#C4DEF6";break;case"#5300eb":t.color="#d4c4fb";break;case"#ededed":t.color="#ffffff"}o(t.color)}(e,t,o,n)},colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#5300EB","#ededed"],triangle:"hide"})})})},x=o(143),f=function(e){var t=e.selectedNote,o=e.open,n=e.setOpen,r=e.saveAndExit,c=e.exportThread;return Object(h.jsx)(j.a,{trigger:Object(h.jsx)("div",{children:Object(h.jsx)(x.a,{className:"tools-btn",size:"1.5em",onClick:function(){return n(!0)}})}),nested:!0,modal:!0,open:o,children:Object(h.jsx)("div",{className:"blurrer",onClick:function(){return n(!1)},children:Object(h.jsxs)("div",{className:"modal menu-popup",children:[Object(h.jsx)("button",{className:"popup-btn tools-btn",onClick:function(){return r("get-occurrences")},children:"Show Threads or Collections that contain this Note"}),t.thread.length?Object(h.jsx)("div",{children:Object(h.jsx)("button",{className:"popup-btn tools-btn",onClick:function(){return c()},children:"Print or Export whole Thread"})}):null]})})})},g=o(3),m=function(e){var t=e.setCurrentPage,o=e.selectedNote,c=e.updateNote,s=e.editorState,a=e.deleteNote,i=e.darkMode,u=e.exportThread,j=e.setBackColor,x=Object(r.useState)(o.pinned),m=Object(n.a)(x,2),O=m[0],k=m[1],C=Object(r.useState)(!1),N=Object(n.a)(C,2),v=N[0],w=N[1],y=Object(r.useState)(!1),B=Object(n.a)(y,2),S=B[0],E=B[1],T=function(){E(!0),o.pinned=!o.pinned,k(o.pinned)},z=function(e){return o.text!==s||S?(o.text=s,Object(g.i)(o),"empty note kept for its links"!==o.preview||o.thread.length||o.collection.length||o.branches.length||o.attachedImg?(c(o,e),t("notes"),!0):(a(o.id),t("notes"),!1)):(t("notes"),Object(g.d)(o),!1)};return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"page-footer",style:{color:i?"#636363":"#171717",borderTop:i?"1px solid #303030":"1px solid #cccccc"},children:[Object(h.jsx)(b.a,{className:"tools-btn",onClick:function(){return z()},size:"2.5em"}),O?Object(h.jsx)(l.a,{className:"tools-btn",onClick:function(){return T()},size:"1.75em",style:{transform:"rotate(-45deg)"}}):Object(h.jsx)(l.f,{className:"tools-btn",onClick:function(){return T()},size:"1.75em"}),Object(h.jsx)(p,{selectedNote:o,setBackColor:j,setHasChanged:E}),Object(h.jsx)(d.e,{className:"tools-btn",onClick:function(){window.confirm("Are you sure you want to delete the note?")&&(a(o.id),t("notes"))},size:"1.65em"}),Object(h.jsx)(f,{selectedNote:o,open:v,setOpen:w,saveAndExit:z,exportThread:u})]})})},O=o(281),k=o.n(O),C=o(13),N=o(8);window.katex=i.a,c.Quill.register("modules/imageCompressor",k.a);var v={toolbar:["bold","italic",{color:[]},{background:[]},{list:"ordered"},{list:"bullet"},{align:[]},"image","code-block","formula","blockquote","link"],imageCompressor:{maxWidth:800,maxHeight:800,imageType:"image/jpeg",debug:!1},history:{delay:2e3,maxStack:500,userOnly:!0},clipboard:{matchVisual:!1}},w=function(e,t,o,n){o.current&&(!function(e,t){var o=e.ops,n=t.getSelection();if(n){var r=n.index,c=n.length;if(void 0===o[0].retain||!o[1]||!o[1].insert||!o[1].insert||"\n"!==o[1].insert||c>0)return;setTimeout((function(){t.getSelection().index===r&&(console.log("Change selection bad pos"),t.setSelection(t.getSelection().index+1,0))}),30)}}(t,o.current.editor),e.length<C.c?n(e):alert(N.c))};t.default=function(e){var t=e.setCurrentPage,o=e.selectedNote,c=e.updateNote,a=e.deleteNote,i=e.darkMode,l=e.exportThread,d=Object(r.useState)(o.text?o.text:""),b=Object(n.a)(d,2),u=b[0],j=b[1],p=Object(r.useState)(o.color),x=Object(n.a)(p,2),f=x[0],g=x[1],O=Object(r.useRef)(null);return Object(h.jsxs)("div",{className:"container",style:i?"#ffffff"!==f?{backgroundImage:"linear-gradient(35deg, #171717 90%, "+f+" 90%)",color:"white"}:{backgroundColor:"#171717",color:"white"}:{backgroundColor:f},children:[Object(h.jsx)("div",{className:"editor no-scrollbar",id:"editor",children:Object(h.jsx)(s.a,{style:{zoom:1.4},theme:"snow",value:u,onChange:function(e,t){return w(e,t,O,j)},modules:v,placeholder:"Write your next idea here...",ref:O,scrollingContainer:"#editor"})}),Object(h.jsx)(m,{setCurrentPage:t,selectedNote:o,updateNote:c,editorState:u,deleteNote:a,darkMode:i,exportThread:l,setBackColor:g})]})}}}]);
//# sourceMappingURL=8.bd1aa43b.chunk.js.map