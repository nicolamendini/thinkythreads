(this.webpackJsonpthinkythreads=this.webpackJsonpthinkythreads||[]).push([[9],{186:function(e,t,r){"use strict";var o=r(3),s=r(232),a=r(160),n=r(193),c=r(9);t.a=function(e){var t=e.selectedNote,r=e.setBackColor,l=e.setHasChanged,d=e.searchProps,i=e.setSearchProps,b=e.searchCleanerCheck;return Object(c.jsx)(n.a,{trigger:Object(c.jsx)("div",{className:"tools-btn",style:{color:d?d.colorFilter:void 0,fontSize:"19px"},children:d?"\u2b24":Object(c.jsx)(a.c,{size:"1.6em"})}),nested:!0,modal:!0,position:"right",children:Object(c.jsx)("div",{className:"picker",children:Object(c.jsx)(s.a,{onChange:function(e){return function(e,t,r,s,a,n){if(a)a((function(t){var r=Object(o.a)({},t);return r.colorFilter=e.hex,n(r),r}));else{switch(s(!0),t.colorPreview=e.hex,e.hex){case"#b80000":t.color="#EB9694";break;case"#db3e00":t.color="#FAD0C3";break;case"#fccb00":t.color="#FEF3BD";break;case"#008b02":t.color="#C1E1C5";break;case"#006b76":t.color="#BEDADC";break;case"#1273de":t.color="#C4DEF6";break;case"#5300eb":t.color="#d4c4fb";break;case"#ededed":t.color="#ffffff"}r({color:t.color,colorPreview:t.colorPreview})}}(e,t,r,l,i,b)},colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#5300EB","#EDEDED"],triangle:"hide"})})})}},375:function(e,t,r){"use strict";r.r(t);var o=r(0),s=r(195),a=r(229),n=r(366),c=r(173),l=r(194),d=(r(365),r(38)),i=r.n(d),b=r(8),h=r(9),j=function(e){var t=e.threadOrCollectionManage,r=e.threadOrCollection,o=e.setRootsOrBranches,d=e.rootsOrBranches,j=e.setDarkMode,u=e.mergeMode,O=e.setMergeMode,g=e.selectedNote,f=e.setCurrentPage,p=e.notesUpdating,m=e.loadedUser,x=e.synchNotes,k=e.darkMode,C=function(){window.localStorage.setItem("dark-mode",!k),j((function(e){return!e}))};return Object(h.jsxs)("div",{className:"page-footer",style:k?{borderTop:"1px solid #2a2a2a",backgroundColor:"#1b1b1b"}:{borderTop:"#dddddd",background:"linear-gradient(#eeeeee, white)",boxShadow:"0 0 3px #bbbbbb"},children:[k?Object(h.jsx)(c.c,{className:"tools-btn",onClick:function(){return f("settings")},size:"2.5em",style:{transform:"scale(0.75)"}}):Object(h.jsx)(s.l,{className:"tools-btn",onClick:function(){return f("settings")},size:"2.5em"}),r?k?Object(h.jsx)(a.d,{onClick:function(){return t(!r)},size:"2.5em",className:"tools-btn",style:{transform:"rotate(45deg) scale(0.85)"}}):Object(h.jsx)(s.f,{onClick:function(){return t(!r)},size:"2.5em",className:"tools-btn"}):k?Object(h.jsx)(a.b,{onClick:function(){return t(!r)},size:"2.5em",className:"tools-btn",style:{transform:"rotate(45deg) scale(0.85)"}}):Object(h.jsx)(s.a,{onClick:function(){return t(!r)},size:"2.5em",className:"tools-btn"}),k?Object(h.jsx)(l.b,{onClick:function(){return o((function(e){return!e}))},size:"2em",className:"tools-btn",style:!d&&{transform:"scaleY(-1)"}}):Object(h.jsx)(s.h,{onClick:function(){return o((function(e){return!e}))},size:"2.3em",className:"tools-btn",style:d?{transform:"scaleY(-1) rotate(90deg)"}:{transform:"rotate(90deg)"}}),g?k?Object(h.jsx)(a.c,{onClick:function(){O((function(e){return!e})),u||alert(b.j)},size:"1.8em",className:"tools-btn",style:{transform:"scaleX(1.1) rotate(-90deg)"}}):Object(h.jsx)(s.e,{onClick:function(){O((function(e){return!e})),u||alert(b.j)},size:"2.3em",className:"tools-btn",style:{transform:"scaleY(1.15) rotate(-90deg)"}}):null,k?Object(h.jsx)(n.a,{onClick:function(){return C()},size:"2.5em",className:"tools-btn",style:{transform:"scaleY(0.7) scaleX(0.7)"}}):Object(h.jsx)(s.d,{onClick:function(){return C()},size:"2.5em",className:"tools-btn"}),m?p>0?k?Object(h.jsx)(c.d,{size:"2em"}):Object(h.jsx)(i.a,{type:"Circles",color:"#00BFFF",height:"1.8em",width:"2.3em"}):k?Object(h.jsx)(c.a,{size:"2em",className:"tools-btn",onClick:function(){return x()},style:{transform:"scaleY(0.85)"}}):Object(h.jsx)(s.c,{size:"2.3em",className:"tools-btn",onClick:function(){return x()}}):k?Object(h.jsx)(a.f,{size:"1.8em",onClick:function(){return alert(b.f)},style:{transform:"scaleX(-1)"}}):Object(h.jsx)(s.b,{size:"2.3em",onClick:function(){return alert(b.f)}})]})},u=r(5),O=r(162),g=r(3),f=r(372),p=r(186),m=r(160),x=r(369),k=r(370),C=r(371),N=r(228),v=function(e){var t=e.note,r=e.areaName,o=e.index,s=e.handleNotePress,a=e.darkMode,n=e.selectedNote,c=e.mergeMode,l=e.openEditor,d=e.rootsOrBranches;e.threadOrCollection;return Object(h.jsx)(O.b,{draggableId:t.ui_id,index:o,children:function(e,o){return Object(h.jsx)("div",{children:Object(h.jsxs)("li",Object(g.a)(Object(g.a)(Object(g.a)({className:(c&&n.id===t.id?"note no-scrollbar merge-mode":a&&n&&n.id===t.id&&"note note-dark no-scrollbar selected-note-dark")||a&&(!n||n.id!==t.id)&&"note note-dark no-scrollbar"||!a&&n&&n.id===t.id&&"note note-bright no-scrollbar selected-note"||!a&&(!n||n.id!==t.id)&&"note note-bright no-scrollbar",name:t.id,id:t.ui_id,ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{onClick:function(){s(t)},onDoubleClick:function(){return l(t)},style:c&&n.id===t.id?e.draggableProps.style:a||"#ffffff"===t.color?"#ffffff"!==t.color?Object(g.a)({backgroundImage:"linear-gradient(25deg, rgb(92, 92, 92) 92%, "+t.colorPreview+" 92%)"},e.draggableProps.style):e.draggableProps.style:n&&n.id===t.id?Object(g.a)({backgroundColor:t.color},e.draggableProps.style):Object(g.a)({backgroundColor:t.color,border:"1px solid "+t.color},e.draggableProps.style),children:[o.isDropAnimating,Object(h.jsxs)("div",{children:[t.pinned&&"search-area"===r&&Object(h.jsx)(x.a,{size:"10px",className:"header-icon"}),t.thread.length?Object(h.jsx)(k.b,{size:"10px",className:"header-icon"}):"",t.collection.length?Object(h.jsx)(k.a,{size:"10px",className:"header-icon"}):"",!d&&t.branches.length?Object(h.jsx)(C.a,{size:"10px",className:"header-icon"}):"",d&&t.roots.length?Object(h.jsx)(C.a,{size:"10px",className:"header-icon",style:{transform:"scaleY(-1)"}}):"",t.attachedImg&&!t.attachedImg[2]?Object(h.jsx)(N.b,{size:"10px",className:"header-icon",style:{transform:"rotate(-45deg)"}}):""]}),t.attachedImg&&t.attachedImg[2]?Object(h.jsx)("div",{className:"just-background-note",style:{backgroundImage:"url("+t.text+")"}}):Object(h.jsx)("div",{className:"note-content no-scrollbar",dangerouslySetInnerHTML:{__html:t.preview}})]}))})}},t.ui_id)},w=function(e){var t=e.threadOrCollection,r=e.notesLength,o=e.draggableInfo,s=e.notes,a=e.darkMode,n="search-area"!==o.sourceArea||(r>0?o.note.thread.length>0||o.note.collection.length>0:!o.note.thread.length&&!o.note.collection.length)||void 0!==s.find((function(e){return e.id===o.note.id}));return Object(h.jsx)(O.c,{droppableId:"wrapper-area",isDropDisabled:n,children:function(e,s){return Object(h.jsxs)("div",Object(g.a)(Object(g.a)({className:"wrapper"},e.droppableProps),{},{ref:e.innerRef,style:r>0?Object(g.a)(Object(g.a)({},a?t?{backgroundColor:"#fccb00",color:"black"}:{backgroundColor:"#1273de",color:"white"}:t?{backgroundColor:"#fef3bd",color:"black"}:{backgroundColor:"#c4def6",color:"black"}),!s.isDraggingOver&&{minWidth:"8vh"}):a?{backgroundColor:"#2e2e2e",minWidth:"8vh",color:"#666666"}:{backgroundColor:"#f4f4f4",minWidth:"8vh",boxShadow:"1px 0px 1px #dddddd"},children:[Object(h.jsx)("div",{className:"vertical-text",children:r>0?"WRAP":"drop to expand"}),e.placeholder,s.isDraggingOver?r>0?Object(h.jsxs)("div",{className:"vertical-text",children:["wrap ",Object(h.jsx)("br",{}),t?" thread ":" collection ",Object(h.jsx)("br",{}),"inside note"]}):Object(h.jsxs)("div",{className:"vertical-text",children:["expand",Object(h.jsx)("br",{}),o.note.thread.length?"thread":"collection"]}):null]}))}})},I=12,M={beginning:!1},y=function(e,t,r,o,s){var a=-1===e?{inline:"start"}:{inline:"end"},n=t*I+I-1;n>o.length-1&&(n=o.length-1),document.getElementById(o[n].ui_id).scrollIntoView(a),r(t+e),window.sessionStorage.setItem("current-slice-"+s,t+e)},E=function(e){var t=e.notes,r=e.handleAddNote,a=e.areaName,n=e.handleNotePress,c=e.darkMode,l=e.selectedNote,d=e.mergeMode,i=e.threadOrCollection,b=e.openEditor,j=e.workspaceFlag,f=e.rootsOrBranches,p=e.isDropDisabled,x=e.draggableInfo,k=e.cleanFilters,C=e.setCleanFilters,N=window.sessionStorage.getItem("current-slice-"+a),E=Object(o.useState)(N?parseInt(N):0),F=Object(u.a)(E,2),P=F[0],S=F[1],D=Object(o.useState)(!1),z=Object(u.a)(D,2),B=z[0],A=z[1];Object(o.useEffect)((function(){var e=t.slice(P*I,(P+1)*I+I),r=!1;if(l){var o=e.find((function(e){return e.id===l.id}));if(o){var s=document.getElementById(o.ui_id);s&&(s.scrollIntoView({inline:"center"}),r=!0)}}e.length||0===P||r||"search-area"!==a||(S(0),window.sessionStorage.setItem("current-slice-"+a,0)),A(!0)}),[t]),Object(o.useEffect)((function(){"search-area"===a&&k.goClean&&P>0&&(S(0),window.sessionStorage.setItem("current-slice-"+a,0))}),[k]),Object(o.useEffect)((function(){if("search-area"===a){var e=Object(g.a)({},k);if(e.areSlicesScrolled=P>0,M.beginning){var t=document.getElementById("plus");t&&t.scrollIntoView(),M.beginning=!1}C(e)}}),[P]);var T=t.slice(P*I,(P+1)*I+I);return Object(h.jsx)("div",{style:{visibility:B?"visible":"hidden"},children:Object(h.jsx)(O.c,{droppableId:a,direction:"horizontal",className:"droppable-wrapper",isDropDisabled:p,children:function(e){return Object(h.jsxs)("ul",Object(g.a)(Object(g.a)({className:"notes-list"},e.droppableProps),{},{ref:e.innerRef,id:a,children:[Object(h.jsx)("div",{children:P>0?c?Object(h.jsx)(m.a,{className:"tools-btn arrow-btn",onClick:function(){return y(-1,P,S,t,a)},size:"2.5em",color:"#666666"}):Object(h.jsx)(s.j,{className:"tools-btn arrow-btn",onClick:function(){return y(-1,P,S,t,a)},size:"2.5em"}):null}),"workspace-area"===a&&j&&Object(h.jsx)(w,{threadOrCollection:i,notesLength:t.length,draggableInfo:x,notes:t,darkMode:c}),Object(h.jsx)("div",{children:"search-area"===a&&0===P&&(c?Object(h.jsx)(m.e,{className:"tools-btn arrow-btn add-btn",onClick:function(){return r()},size:"2.25em",color:"#555555",style:{transform:"scale(0.8)"},id:"plus"}):Object(h.jsx)(s.i,{className:"tools-btn arrow-btn add-btn",onClick:function(){return r()},size:"2.25em",id:"plus"}))}),T.map((function(e,t){return Object(h.jsx)(v,{note:e,areaName:a,index:t+P*I,handleNotePress:n,darkMode:c,selectedNote:l,mergeMode:d,openEditor:b,rootsOrBranches:f,threadOrCollection:i},e.ui_id)})),e.placeholder,Object(h.jsx)("div",{children:(P+1)*I+I<t.length?c?Object(h.jsx)(m.b,{className:"tools-btn arrow-btn",onClick:function(){return y(1,P,S,t,a)},size:"2.5em",color:"#666666"}):Object(h.jsx)(s.g,{className:"tools-btn arrow-btn",onClick:function(){return y(1,P,S,t,a)},size:"2.5em"}):null})]}))}})})},F=function(e,t,r){var o=Object(g.a)({},t);e.threadFilter||e.collectionFilter||e.imgFilter||"#ededed"!==e.colorFilter||e.searchText?o.areFiltersOn=!0:o.areFiltersOn=!1,r(o)},P=function(e){var t=e.setSearchProps,r=e.searchProps,a=e.isDropDisabled,n=e.darkMode,l=e.cleanFilters,d=e.setCleanFilters;return Object(o.useEffect)((function(){if(l.goClean){var e=Object(g.a)({},l);e.goClean=!1,d(e)}}),[l]),Object(h.jsx)(O.c,{droppableId:"search-bar",isDropDisabled:a,children:function(e,o){return Object(h.jsxs)("div",Object(g.a)(Object(g.a)({className:n?"search-dark":"search-bright"},e.droppableProps),{},{ref:e.innerRef,children:[l.areSlicesScrolled||l.areFiltersOn?Object(h.jsx)(c.b,{size:"1.6em",className:"tools-btn",onClick:function(){return function(e,t,r){var o=Object(g.a)({},e);o.goClean=!0,o.areFiltersOn=!1,M.beginning=!0,t(o),r({searchText:"",threadFilter:!1,collectionFilter:!1,colorFilter:"#ededed",imgFilter:!1})}(l,d,t)},color:n?"#666666":"#464646",style:{padding:"3px 2px 3px 3px"}}):n?Object(h.jsx)(f.a,{className:"search-icons",size:"2em",style:{transform:"scale(0.8)"}}):Object(h.jsx)(s.k,{className:"search-icons",size:"2em"}),e.placeholder,Object(h.jsx)("input",{onChange:function(e){var o=Object(g.a)({},r);o.searchText=e.target.value.toLowerCase(),F(o,l,d),t(o)},type:"text",placeholder:o.isDraggingOver?"Work within this collection":"Type to search",value:r.searchText}),Object(h.jsx)("span",{className:"search-filter tools-btn",style:r.imgFilter?{color:"red"}:{},onClick:function(){var e=Object(g.a)({},r);e.imgFilter=!e.imgFilter,F(e,l,d),t(e)},children:Object(h.jsx)(m.d,{size:"0.9em",style:{marginTop:"4px",transform:"rotate(180deg)"}})}),Object(h.jsx)("span",{className:"search-filter tools-btn",style:r.threadFilter?{color:"red"}:{},onClick:function(){var e=Object(g.a)({},r);e.threadFilter=!e.threadFilter,F(e,l,d),t(e)},children:"T"}),Object(h.jsx)("span",{className:"search-filter tools-btn",style:r.collectionFilter?{color:"red"}:{},onClick:function(){var e=Object(g.a)({},r);e.collectionFilter=!e.collectionFilter,F(e,l,d),t(e)},children:"C"}),Object(h.jsx)("span",{style:{margin:"0 5px 0 0"},children:Object(h.jsx)(p.a,{setBackColor:{},setHasChanged:{},searchProps:r,setSearchProps:t,searchCleanerCheck:function(e){return F(e,l,d)}})})]}))}})},S=r(2),D=function(e){var t=e.searchProps,r=e.closeCollection,o=e.dashboard,s=e.darkMode;return Object(h.jsxs)("div",{className:"stripe-label",children:[Object(h.jsxs)("div",{className:"stripe-not-overflow",style:{width:"80vw"},children:["NOTE FINDER",t.threadFilter&&" - THREADS",t.collectionFilter&&" - COLLECTIONS",o.openedCollectionId&&" : "+Object(S.g)(o.notes.get(o.openedCollectionId))]}),o.openedCollectionId&&Object(h.jsx)("div",{children:Object(h.jsx)(c.b,{size:"2em",className:"tools-btn close-btn",onClick:function(){return r()},color:s?"white":"black"})})]})},z=function(e){var t=e.closeCollection,r=e.dashboard,s=e.darkMode,a=e.addNote,n=e.selectNote,c=e.mergeMode,l=e.threadOrCollection,d=e.openEditor,i=e.rootsOrBranches,b=e.searchProps,j=e.setSearchProps,O=e.draggableInfo,g="search-area"!==O.sourceArea||!O.note.collection.length,f=Object(o.useState)({areSlicesScrolled:!1,areFiltersOn:!1,goClean:!1}),p=Object(u.a)(f,2),m=p[0],x=p[1];return Object(h.jsxs)("div",{children:[Object(h.jsx)(P,{setSearchProps:j,searchProps:b,isDropDisabled:g,darkMode:s,cleanFilters:m,setCleanFilters:x}),Object(h.jsxs)("div",{children:[Object(h.jsx)(D,{searchProps:b,closeCollection:t,dashboard:r,darkMode:s}),Object(h.jsx)(E,{notes:r.search,handleAddNote:a,areaName:"search-area",handleNotePress:n,darkMode:s,selectedNote:r.notes.get(r.selectedNoteId),mergeMode:c,threadOrCollection:l,openEditor:d,rootsOrBranches:i,cleanFilters:m,setCleanFilters:x})]})]})},B=function(e){var t=e.dashboard,r=e.threadOrCollection,o=e.closeAndSave,s=e.darkMode;return Object(h.jsxs)("div",{className:"stripe-label",children:[Object(h.jsxs)("div",{className:"stripe-not-overflow",style:{width:"80vw"},children:["CURRENT ",r?" THREAD ":" COLLECTION ",t.openedWorkspaceId?" : "+Object(S.g)(t.notes.get(t.openedWorkspaceId)):t.workspaceIds.length?r?" : unsaved thread ":" : unsaved collection ":null]}),t.workspaceIds.length||t.openedWorkspaceId?Object(h.jsx)("div",{children:Object(h.jsx)(c.b,{size:"2em",className:"tools-btn close-btn",onClick:function(){return o()},color:s?"white":"black"})}):null]})},A=function(e){var t=e.dashboard,r=e.darkMode,o=e.selectNote,s=e.mergeMode,a=e.threadOrCollection,n=e.openEditor,c=e.rootsOrBranches,l=e.closeAndSave,d=e.draggableInfo;return Object(h.jsxs)("div",{children:[Object(h.jsx)(B,{dashboard:t,threadOrCollection:a,closeAndSave:l,darkMode:r}),Object(h.jsx)(E,{notes:t.workspace,areaName:"workspace-area",handleNotePress:o,darkMode:r,selectedNote:t.notes.get(t.selectedNoteId),mergeMode:s,threadOrCollection:a,openEditor:n,workspaceFlag:!t.openedWorkspaceId,rootsOrBranches:c,draggableInfo:d})]})},T=r(10),R=function(e){var t=e.dashboard,r=e.darkMode,o=e.mergeMode,s=e.threadOrCollection,a=e.openEditor,n=e.rootsOrBranches,c=e.draggableInfo,l="workspace-area"===c.sourceArea||c.note&&c.note.id===t.selectedNoteId;return Object(h.jsxs)("div",{children:[Object(h.jsxs)("label",{className:"stripe-label stripe-not-overflow",style:{width:"90vw"},children:[n?" ROOTS":" BRANCHES",t.selectedNoteId&&" - "+Object(S.g)(t.notes.get(t.selectedNoteId))]}),Object(h.jsx)(E,{notes:t.links,areaName:"branches-area",darkMode:r,handleNotePress:function(){},selectedNote:t.notes.get(t.selectedNoteId),mergeMode:o,threadOrCollection:s,openEditor:function(e){o||(T.h.selection="prev",t.prevSelectedNoteId=t.selectedNoteId,t.selectedNoteId=e.id,a())},rootsOrBranches:n,isDropDisabled:l})]})},W=function(e){var t=e.handleOnDragEnd,r=e.closeCollection,s=e.dashboard,a=e.darkMode,n=e.addNote,c=e.selectNote,l=e.mergeMode,d=e.threadOrCollection,i=e.openEditor,b=e.rootsOrBranches,j=e.closeAndSave,g=e.searchProps,f=e.setSearchProps,p=Object(o.useState)({sourceArea:"",note:{id:null}}),m=Object(u.a)(p,2),x=m[0],k=m[1];return Object(h.jsxs)(O.a,{onDragEnd:t,onDragStart:function(e){return function(e,t,r){window.navigator.vibrate&&window.navigator.vibrate(25);var o={},s=e.source.droppableId;o.sourceArea=s;var a=e.source.index,n=null;"workspace-area"===s?n=t.workspace[a]:"search-area"===s?n=t.search[a]:"links-area"===s&&(n=t.links[a]),n&&(o.note=n),r(o)}(e,s,k)},children:[Object(h.jsx)(z,{closeCollection:r,dashboard:s,darkMode:a,addNote:n,selectNote:c,mergeMode:l,threadOrCollection:d,openEditor:i,rootsOrBranches:b,searchProps:g,setSearchProps:f,draggableInfo:x}),Object(h.jsx)(A,{dashboard:s,darkMode:a,selectNote:c,mergeMode:l,threadOrCollection:d,openEditor:i,rootsOrBranches:b,closeAndSave:j,draggableInfo:x}),Object(h.jsx)(R,{dashboard:s,darkMode:a,mergeMode:l,threadOrCollection:d,openEditor:i,rootsOrBranches:b,draggableInfo:x})]})};t.default=function(e){var t=e.darkMode,r=e.dashboard,o=e.handleOnDragEnd,s=e.GAPIloaded,a=e.currentUser,n=e.setCurrentPage,c=e.notesUpdating,l=e.setDarkMode,d=e.closeCollection,i=e.addNote,b=e.selectNote,u=e.mergeMode,O=e.setMergeMode,g=e.openEditor,f=e.rootsOrBranches,p=e.closeAndSave,m=e.threadOrCollection,x=e.threadOrCollectionManage,k=e.setRootsOrBranches,C=e.searchProps,N=e.setSearchProps,v=e.synchNotes,w=e.editorMode;return Object(h.jsxs)("div",{className:t?"container dark-mode":"container",children:[Object(h.jsx)(W,{handleOnDragEnd:o,closeCollection:d,dashboard:r,darkMode:t,addNote:i,selectNote:b,mergeMode:u,threadOrCollection:m,openEditor:g,rootsOrBranches:f,closeAndSave:p,searchProps:C,setSearchProps:N,editorMode:w}),Object(h.jsx)(j,{threadOrCollectionManage:x,threadOrCollection:m,setRootsOrBranches:k,rootsOrBranches:f,setDarkMode:l,mergeMode:u,setMergeMode:O,selectedNote:r.notes.get(r.selectedNoteId),setCurrentPage:n,notesUpdating:c,loadedUser:s&&a,synchNotes:v,darkMode:t})]})}}}]);
//# sourceMappingURL=9.0d40b760.chunk.js.map