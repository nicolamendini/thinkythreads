(this.webpackJsonpthinkythreads=this.webpackJsonpthinkythreads||[]).push([[8],{186:function(e,t,o){"use strict";var r=o(3),n=o(232),c=o(160),a=o(193),s=o(9);t.a=function(e){var t=e.selectedNote,o=e.setBackColor,l=e.setHasChanged,i=e.searchProps,d=e.setSearchProps,b=e.searchCleanerCheck;return Object(s.jsx)(a.a,{trigger:Object(s.jsx)("div",{className:"tools-btn",style:{color:i?i.colorFilter:void 0,fontSize:"19px"},children:i?"\u2b24":Object(s.jsx)(c.c,{size:"1.6em"})}),nested:!0,modal:!0,position:"right",children:Object(s.jsx)("div",{className:"picker",children:Object(s.jsx)(n.a,{onChange:function(e){return function(e,t,o,n,c,a){if(c)c((function(t){var o=Object(r.a)({},t);return o.colorFilter=e.hex,a(o),o}));else{switch(n(!0),t.colorPreview=e.hex,e.hex){case"#b80000":t.color="#EB9694";break;case"#db3e00":t.color="#FAD0C3";break;case"#fccb00":t.color="#FEF3BD";break;case"#008b02":t.color="#C1E1C5";break;case"#006b76":t.color="#BEDADC";break;case"#1273de":t.color="#C4DEF6";break;case"#5300eb":t.color="#d4c4fb";break;case"#ededed":t.color="#ffffff"}o({color:t.color,colorPreview:t.colorPreview})}}(e,t,o,l,d,b)},colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#5300EB","#EDEDED"],triangle:"hide"})})})}},376:function(e,t,o){"use strict";o.r(t);var r=o(5),n=o(0),c=o(233),a=o.n(c),s=(o(317),o(3)),l=o(229),i=o(160),d=o(194),b=o(186),u=o(228),h=o(193),j=o(9),p=function(e){var t=e.selectedNote,o=e.open,r=e.setOpen,n=e.saveAndExit,c=e.exportThread,a=e.threadCollectionSwap,s=e.openOccurrences,l=e.moveToTheEnd;return Object(j.jsx)(h.a,{trigger:Object(j.jsx)("div",{children:Object(j.jsx)(u.a,{className:"tools-btn",size:"1.5em",onClick:function(){return r(!0)}})}),nested:!0,modal:!0,open:o,children:Object(j.jsx)("div",{className:"blurrer",onClick:function(){return r(!1)},children:Object(j.jsxs)("div",{className:"modal menu-popup",children:[Object(j.jsx)("button",{className:"popup-btn tools-btn",onClick:function(){s(),n(!1,!0)},children:"Show Threads or Collections that contain this Note"}),Object(j.jsx)("button",{className:"popup-btn tools-btn",onClick:function(){l(),n(!0)},children:"Save and move at the end of the Search"}),t.thread.length?Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{className:"popup-btn tools-btn",onClick:function(){return c()},children:"Print or Export whole Thread"}),Object(j.jsx)("button",{className:"popup-btn tools-btn",onClick:function(){return a(!0)},children:"Convert Thread to Collection"})]}):t.collection.length?Object(j.jsx)("div",{children:Object(j.jsx)("button",{className:"popup-btn tools-btn",onClick:function(){return a(!1)},children:"Convert Collection to Thread"})}):null]})})})},m=o(2),f=o(16),O=function(e){var t=e.setCurrentPage,o=e.selectedNote,c=e.updateNote,a=e.editorState,u=e.deleteNote,h=e.darkMode,O=e.exportThread,g=e.setBackColor,x=e.threadCollectionSwap,C=e.moveToTheEnd,k=e.dashboard,v=e.openOccurrences,N=e.packDashboard,w=Object(n.useState)(o.pinned),S=Object(r.a)(w,2),T=S[0],E=S[1],y=Object(n.useState)(!1),D=Object(r.a)(y,2),B=D[0],z=D[1],P=Object(n.useState)(!1),F=Object(r.a)(P,2),A=F[0],R=F[1],H=function(){R(!0),o.pinned=!o.pinned,E(o.pinned)},I=function(e,r){if(o.text===a&&!A&&""!==a&&!e)return t("notes"),Object(m.e)(o),Object(f.b)(k),void(r&&N(Object(s.a)({},k),!1,!0));o.text=a,Object(m.m)(o),"empty note kept for its links"!==o.preview||o.thread.length||o.collection.length||o.branches.length||o.attachedImg?(c(o),t("notes")):(u(o.id),t("notes"))};return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"page-footer",style:{color:h?"#636363":"#171717"},children:[Object(j.jsx)(d.a,{className:"tools-btn",onClick:function(){return I()},size:"2.5em"}),T?Object(j.jsx)(l.a,{className:"tools-btn",onClick:function(){return H()},size:"1.75em",style:{transform:"rotate(-45deg)"}}):Object(j.jsx)(l.e,{className:"tools-btn",onClick:function(){return H()},size:"1.75em"}),Object(j.jsx)(b.a,{selectedNote:o,setBackColor:g,setHasChanged:R}),Object(j.jsx)(i.f,{className:"tools-btn",onClick:function(){window.confirm("Are you sure you want to delete the note?")&&(u(o.id),t("notes"))},size:"1.65em"}),Object(j.jsx)(p,{selectedNote:o,open:B,setOpen:z,saveAndExit:I,exportThread:O,threadCollectionSwap:x,openOccurrences:v,moveToTheEnd:C})]})})},g=o(360),x=o.n(g),C=o(361),k=o.n(C),v=o(10),N=o(8);c.Quill.register("modules/imageCompressor",x.a),c.Quill.register("modules/imageResize",k.a);var w={toolbar:[{header:"1"},{header:"2"},"bold","italic","underline","strike",{color:[]},{background:[]},{list:"ordered"},{list:"bullet"},{align:[]},"image","code-block","formula","blockquote","link"],imageCompressor:{maxWidth:800,maxHeight:800,imageType:"image/jpeg",debug:!1},history:{delay:2e3,maxStack:500,userOnly:!0},clipboard:{matchVisual:!1},imageResize:{parchment:c.Quill.import("parchment"),modules:["Resize","DisplaySize"]}},S=function(e,t,o,r){o.current&&(!function(e,t){var o=e.ops,r=t.getSelection();if(r){var n=r.index,c=r.length;if(void 0===o[0].retain||!o[1]||!o[1].insert||!o[1].insert||"\n"!==o[1].insert||c>0)return;setTimeout((function(){t.getSelection().index===n&&(console.log("Change selection bad pos"),t.setSelection(t.getSelection().index+1,0))}),30)}}(t,o.current.editor),e.length<v.c?r(e):alert(N.c))};t.default=function(e){var t=e.setCurrentPage,o=e.dashboard,c=e.updateNote,s=e.deleteNote,l=e.darkMode,i=e.exportThread,d=e.threadCollectionSwap,b=e.moveToTheEnd,u=e.openOccurrences,h=e.packDashboard,p=o.notes.get(o.selectedNoteId),m=Object(n.useState)(p.text?p.text:""),f=Object(r.a)(m,2),g=f[0],x=f[1],C=Object(n.useState)({color:p.color,colorPreview:p.colorPreview}),k=Object(r.a)(C,2),v=k[0],N=k[1],T=Object(n.useRef)(null);return Object(j.jsxs)("div",{className:"container",style:l?{backgroundColor:"#171717",color:"white"}:{backgroundColor:v.color},children:[Object(j.jsx)("div",{className:"color-flag",style:l?"#ffffff"!==v.color?{backgroundImage:"linear-gradient(20deg, #171717 90%, "+v.colorPreview+" 90%)",color:"white"}:{backgroundColor:"#171717",color:"white"}:{backgroundColor:v.color}}),Object(j.jsx)("div",{className:"editor no-scrollbar",id:"editor",children:Object(j.jsx)(a.a,{style:{zoom:1.4},theme:"snow",value:g,onChange:function(e,t){return S(e,t,T,x)},modules:w,placeholder:"Write your next idea here...",ref:T,scrollingContainer:"#editor"})}),Object(j.jsx)(O,{setCurrentPage:t,selectedNote:p,updateNote:c,editorState:g,deleteNote:s,darkMode:l,exportThread:i,setBackColor:N,threadCollectionSwap:d,moveToTheEnd:b,dashboard:o,openOccurrences:u,packDashboard:h})]})}}}]);
//# sourceMappingURL=8.8e8d4f8a.chunk.js.map