(this.webpackJsonpthinkythreads=this.webpackJsonpthinkythreads||[]).push([[9],{185:function(e,t,r){"use strict";var o=r(232),s=r(161),a=r(192),c=r(10);t.a=function(e){var t=e.selectedNote,r=e.setBackColor,n=e.setHasChanged,l=e.searchProps,d=e.setSearchProps;return Object(c.jsx)(a.a,{trigger:Object(c.jsx)("div",{className:"tools-btn",style:{color:l?l.colorFilter:void 0,fontSize:"19px"},children:l?"\u2b24":Object(c.jsx)(s.c,{size:"1.6em"})}),nested:!0,modal:!0,position:"right",children:Object(c.jsx)("div",{className:"picker",children:Object(c.jsx)(o.a,{onChange:function(e){return function(e,t,r,o,s){if(s)s((function(t){return{searchText:t.searchText,threadFilter:t.threadFilter,collectionFilter:t.collectionFilter,colorFilter:e.hex}}));else{switch(o(!0),t.colorPreview=e.hex,e.hex){case"#b80000":t.color="#EB9694";break;case"#db3e00":t.color="#FAD0C3";break;case"#fccb00":t.color="#FEF3BD";break;case"#008b02":t.color="#C1E1C5";break;case"#006b76":t.color="#BEDADC";break;case"#1273de":t.color="#C4DEF6";break;case"#5300eb":t.color="#d4c4fb";break;case"#ededed":t.color="#ffffff"}r({color:t.color,colorPreview:t.colorPreview})}}(e,t,r,n,d)},colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#5300EB","#EDEDED"],triangle:"hide"})})})}},375:function(e,t,r){"use strict";r.r(t);var o=r(0),s=r(195),a=r(229),c=r(366),n=r(194),l=r(193),d=(r(365),r(38)),i=r.n(d),b=r(8),h=r(10),j=function(e){var t=e.threadOrCollectionManage,r=e.threadOrCollection,o=e.setRootsOrBranches,d=e.rootsOrBranches,j=e.setDarkMode,u=e.mergeMode,O=e.setMergeMode,g=e.selectedNote,p=e.setCurrentPage,m=e.notesUpdating,f=e.loadedUser,x=e.synchNotes,k=e.darkMode,N=function(){window.localStorage.setItem("dark-mode",!k),j((function(e){return!e}))};return Object(h.jsxs)("div",{className:"page-footer",style:{borderTop:k?"1px solid #2a2a2a":"#dddddd",backgroundColor:k?"#1e1e1e":void 0,background:k?void 0:"linear-gradient(#eeeeee, white)",boxShadow:k?void 0:"0 0 3px #bbbbbb"},children:[k?Object(h.jsx)(n.c,{className:"tools-btn",onClick:function(){return p("settings")},size:"2.5em",style:{transform:"scale(0.75)"}}):Object(h.jsx)(s.l,{className:"tools-btn",onClick:function(){return p("settings")},size:"2.5em"}),r?k?Object(h.jsx)(a.d,{onClick:function(){return t(!r)},size:"2.5em",className:"tools-btn",style:{transform:"rotate(45deg) scale(0.85)"}}):Object(h.jsx)(s.f,{onClick:function(){return t(!r)},size:"2.5em",className:"tools-btn"}):k?Object(h.jsx)(a.b,{onClick:function(){return t(!r)},size:"2.5em",className:"tools-btn",style:{transform:"rotate(45deg) scale(0.85)"}}):Object(h.jsx)(s.a,{onClick:function(){return t(!r)},size:"2.5em",className:"tools-btn"}),k?Object(h.jsx)(l.b,{onClick:function(){return o((function(e){return!e}))},size:"2em",className:"tools-btn",style:!d&&{transform:"scaleY(-1)"}}):Object(h.jsx)(s.h,{onClick:function(){return o((function(e){return!e}))},size:"2.3em",className:"tools-btn",style:d?{transform:"scaleY(-1) rotate(90deg)"}:{transform:"rotate(90deg)"}}),g?k?Object(h.jsx)(a.c,{onClick:function(){O((function(e){return!e})),u||alert(b.j)},size:"1.8em",className:"tools-btn",style:{transform:"scaleX(1.1) rotate(-90deg)"}}):Object(h.jsx)(s.e,{onClick:function(){O((function(e){return!e})),u||alert(b.j)},size:"2.3em",className:"tools-btn",style:{transform:"scaleY(1.15) rotate(-90deg)"}}):null,k?Object(h.jsx)(c.a,{onClick:function(){return N()},size:"2.5em",className:"tools-btn",style:{transform:"scaleY(0.7) scaleX(0.7)"}}):Object(h.jsx)(s.d,{onClick:function(){return N()},size:"2.5em",className:"tools-btn"}),f?m>0?k?Object(h.jsx)(n.d,{size:"2em"}):Object(h.jsx)(i.a,{type:"Circles",color:"#00BFFF",height:"1.8em",width:"2.3em"}):k?Object(h.jsx)(n.a,{size:"2em",className:"tools-btn",onClick:function(){return x()},style:{transform:"scaleY(0.85)"}}):Object(h.jsx)(s.c,{size:"2.3em",className:"tools-btn",onClick:function(){return x()}}):k?Object(h.jsx)(a.f,{size:"1.8em",onClick:function(){return alert(b.f)},style:{transform:"scaleX(-1)"}}):Object(h.jsx)(s.b,{size:"2.3em",onClick:function(){return alert(b.f)}})]})},u=r(6),O=r(162),g=r(3),p=r(369),m=r(185),f=function(e){var t=e.setSearchProps,r=e.searchProps,o=e.isDropDisabled,a=e.darkMode;return Object(h.jsx)(O.c,{droppableId:"search-bar",isDropDisabled:o,children:function(e,o){return Object(h.jsxs)("div",Object(g.a)(Object(g.a)({className:a?"search-dark":"search-bright"},e.droppableProps),{},{ref:e.innerRef,children:[a?Object(h.jsx)(p.a,{className:"search-icons",size:"2em",style:{transform:"scale(0.8)"}}):Object(h.jsx)(s.k,{className:"search-icons",size:"2em"}),e.placeholder,Object(h.jsx)("input",{onChange:function(e){return t({searchText:e.target.value.toLowerCase(),threadFilter:r.threadFilter,collectionFilter:r.collectionFilter,colorFilter:r.colorFilter})},type:"text",placeholder:o.isDraggingOver?"Work within this collection":"Type to search",value:r.searchText}),Object(h.jsx)("span",{className:"search-filter tools-btn",style:r.threadFilter?{color:"red"}:{},onClick:function(){return t({searchText:r.searchText,threadFilter:!r.threadFilter,collectionFilter:r.collectionFilter,colorFilter:r.colorFilter})},children:"T"}),Object(h.jsx)("span",{className:"search-filter tools-btn",style:r.collectionFilter?{color:"red"}:{},onClick:function(){return t({searchText:r.searchText,threadFilter:r.threadFilter,collectionFilter:!r.collectionFilter,colorFilter:r.colorFilter})},children:"C"}),Object(h.jsx)("span",{style:{margin:"0 5px 0 0"},children:Object(h.jsx)(m.a,{setBackColor:{},setHasChanged:{},searchProps:r,setSearchProps:t})})]}))}})},x=r(2),k=function(e){var t=e.searchProps,r=e.closeCollection,o=e.dashboard,s=e.darkMode;return Object(h.jsxs)("div",{className:"stripe-label",children:[Object(h.jsxs)("div",{className:"stripe-not-overflow",style:{width:"80vw"},children:["NOTE FINDER",t.threadFilter&&" - THREADS",t.collectionFilter&&" - COLLECTIONS",o.openedCollectionId&&" : "+Object(x.g)(o.notes.get(o.openedCollectionId))]}),o.openedCollectionId&&Object(h.jsx)("div",{children:Object(h.jsx)(n.b,{size:"2em",className:"tools-btn close-btn",onClick:function(){return r()},color:s?"white":"black"})})]})},N=r(370),C=r(371),v=r(372),w=r(228),M=function(e){var t=e.note,r=e.areaName,o=e.index,s=e.handleNotePress,a=e.darkMode,c=e.selectedNote,n=e.mergeMode,l=e.openEditor,d=e.rootsOrBranches;e.threadOrCollection;return Object(h.jsx)(O.b,{draggableId:t.ui_id,index:o,children:function(e,o){return Object(h.jsx)("div",{children:Object(h.jsxs)("li",Object(g.a)(Object(g.a)(Object(g.a)({className:(n&&c.id===t.id?"note no-scrollbar merge-mode":a&&c&&c.id===t.id&&"note note-dark no-scrollbar selected-note-dark")||a&&(!c||c.id!==t.id)&&"note note-dark no-scrollbar"||!a&&c&&c.id===t.id&&"note note-bright no-scrollbar selected-note"||!a&&(!c||c.id!==t.id)&&"note note-bright no-scrollbar",name:t.id,id:t.ui_id,ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{onClick:function(){s(t)},onDoubleClick:function(){return l(t)},style:n&&c.id===t.id?e.draggableProps.style:a||"#ffffff"===t.color?"#ffffff"!==t.color?Object(g.a)({backgroundImage:"linear-gradient(25deg, rgb(92, 92, 92) 92%, "+t.colorPreview+" 92%)"},e.draggableProps.style):e.draggableProps.style:c&&c.id===t.id?Object(g.a)({backgroundColor:t.color},e.draggableProps.style):Object(g.a)({backgroundColor:t.color,border:"1px solid "+t.color},e.draggableProps.style),children:[o.isDropAnimating,Object(h.jsxs)("div",{children:[t.pinned&&"search-area"===r&&Object(h.jsx)(N.a,{size:"10px",className:"header-icon"}),t.thread.length?Object(h.jsx)(C.b,{size:"10px",className:"header-icon"}):"",t.collection.length?Object(h.jsx)(C.a,{size:"10px",className:"header-icon"}):"",!d&&t.branches.length?Object(h.jsx)(v.a,{size:"10px",className:"header-icon"}):"",d&&t.roots.length?Object(h.jsx)(v.a,{size:"10px",className:"header-icon",style:{transform:"scaleY(-1)"}}):"",t.attachedImg&&!t.attachedImg[2]?Object(h.jsx)(w.b,{size:"10px",className:"header-icon",style:{transform:"rotate(-45deg)"}}):""]}),t.attachedImg&&t.attachedImg[2]?Object(h.jsx)("div",{className:"just-background-note",style:{backgroundImage:"url("+t.text+")"}}):Object(h.jsx)("div",{className:"note-content no-scrollbar",dangerouslySetInnerHTML:{__html:t.preview}})]}))})}},t.ui_id)},I=r(161),P=function(e){var t=e.threadOrCollection,r=e.notesLength,o=e.draggableInfo,s=e.notes,a=e.darkMode,c="search-area"!==o.sourceArea||(r>0?o.note.thread.length>0||o.note.collection.length>0:!o.note.thread.length&&!o.note.collection.length)||void 0!==s.find((function(e){return e.id===o.note.id}));return Object(h.jsx)(O.c,{droppableId:"wrapper-area",isDropDisabled:c,children:function(e,s){return Object(h.jsxs)("div",Object(g.a)(Object(g.a)({className:"wrapper"},e.droppableProps),{},{ref:e.innerRef,style:r>0?Object(g.a)(Object(g.a)({},a?t?{backgroundColor:"#fccb00",color:"black"}:{backgroundColor:"#1273de",color:"white"}:t?{backgroundColor:"#fef3bd",color:"black"}:{backgroundColor:"#c4def6",color:"black"}),!s.isDraggingOver&&{minWidth:"8vh"}):a?{backgroundColor:"#2e2e2e",minWidth:"8vh",color:"#666666"}:{backgroundColor:"#f4f4f4",minWidth:"8vh",boxShadow:"1px 0px 1px #dddddd"},children:[Object(h.jsx)("div",{className:"vertical-text",children:r>0?"WRAP":"drop to expand"}),e.placeholder,s.isDraggingOver?r>0?Object(h.jsxs)("div",{className:"vertical-text",children:["wrap ",Object(h.jsx)("br",{}),t?" thread ":" collection ",Object(h.jsx)("br",{}),"inside note"]}):Object(h.jsxs)("div",{className:"vertical-text",children:["expand",Object(h.jsx)("br",{}),o.note.thread.length?"thread":"collection"]}):null]}))}})},y=12,E=function(e){var t=e.notes,r=e.handleAddNote,a=e.areaName,c=e.handleNotePress,n=e.darkMode,l=e.selectedNote,d=e.mergeMode,i=e.threadOrCollection,b=e.openEditor,j=e.workspaceFlag,p=e.rootsOrBranches,m=e.isDropDisabled,f=e.draggableInfo,x=Object(o.useState)(window.sessionStorage.getItem("current-slice-"+a)?parseInt(window.sessionStorage.getItem("current-slice-"+a)):0),k=Object(u.a)(x,2),N=k[0],C=k[1],v=Object(o.useState)(!1),w=Object(u.a)(v,2),E=w[0],D=w[1];Object(o.useEffect)((function(){var e=t.slice(N*y,(N+1)*y+y),r=!1;if(l){var o=e.find((function(e){return e.id===l.id}));if(o){var s=document.getElementById(o.ui_id);s&&(s.scrollIntoView({inline:"center"}),r=!0)}}e.length||0===N||r||"search-area"!==a||(C(0),window.sessionStorage.setItem("current-slice-"+a,0)),D(!0)}),[t]);var F=function(e){var r=-1===e?{inline:"start"}:{inline:"end"},o=N*y+y-1;o>t.length-1&&(o=t.length-1),document.getElementById(t[o].ui_id).scrollIntoView(r),C(N+e),window.sessionStorage.setItem("current-slice-"+a,N+e)},z=t.slice(N*y,(N+1)*y+y);return Object(h.jsx)("div",{style:{visibility:E?"visible":"hidden"},children:Object(h.jsx)(O.c,{droppableId:a,direction:"horizontal",className:"droppable-wrapper",isDropDisabled:m,children:function(e){return Object(h.jsxs)("ul",Object(g.a)(Object(g.a)({className:"notes-list"},e.droppableProps),{},{ref:e.innerRef,id:a,children:[Object(h.jsx)("div",{children:N>0?n?Object(h.jsx)(I.a,{className:"tools-btn arrow-btn",onClick:function(){return F(-1)},size:"2.5em",color:"#666666"}):Object(h.jsx)(s.j,{className:"tools-btn arrow-btn",onClick:function(){return F(-1)},size:"2.5em"}):null}),"workspace-area"===a&&j&&Object(h.jsx)(P,{threadOrCollection:i,notesLength:t.length,draggableInfo:f,notes:t,darkMode:n}),Object(h.jsx)("div",{children:"search-area"===a&&0===N&&(n?Object(h.jsx)(I.d,{className:"tools-btn arrow-btn add-btn",onClick:function(){return r()},size:"2.25em",color:"#555555",style:{transform:"scale(0.8)"}}):Object(h.jsx)(s.i,{className:"tools-btn arrow-btn add-btn",onClick:function(){return r()},size:"2.25em"}))}),z.map((function(e,t){return Object(h.jsx)(M,{note:e,areaName:a,index:t+N*y,handleNotePress:c,darkMode:n,selectedNote:l,mergeMode:d,openEditor:b,rootsOrBranches:p,threadOrCollection:i},e.ui_id)})),e.placeholder,Object(h.jsx)("div",{children:(N+1)*y+y<t.length?n?Object(h.jsx)(I.b,{className:"tools-btn arrow-btn",onClick:function(){return F(1)},size:"2.5em",color:"#666666"}):Object(h.jsx)(s.g,{className:"tools-btn arrow-btn",onClick:function(){return F(1)},size:"2.5em"}):null})]}))}})})},D=function(e){var t=e.closeCollection,r=e.dashboard,o=e.darkMode,s=e.addNote,a=e.selectNote,c=e.mergeMode,n=e.threadOrCollection,l=e.openEditor,d=e.rootsOrBranches,i=e.searchProps,b=e.setSearchProps,j=e.draggableInfo,u="search-area"!==j.sourceArea||!j.note.collection.length;return Object(h.jsxs)("div",{children:[Object(h.jsx)(f,{setSearchProps:b,searchProps:i,isDropDisabled:u,darkMode:o}),Object(h.jsxs)("div",{children:[Object(h.jsx)(k,{searchProps:i,closeCollection:t,dashboard:r,darkMode:o}),Object(h.jsx)(E,{notes:r.search,handleAddNote:s,areaName:"search-area",handleNotePress:a,darkMode:o,selectedNote:r.notes.get(r.selectedNoteId),mergeMode:c,threadOrCollection:n,openEditor:l,rootsOrBranches:d})]})]})},F=function(e){var t=e.dashboard,r=e.threadOrCollection,o=e.closeAndSave,s=e.darkMode;return Object(h.jsxs)("div",{className:"stripe-label",children:[Object(h.jsxs)("div",{className:"stripe-not-overflow",style:{width:"80vw"},children:["CURRENT ",r?" THREAD ":" COLLECTION ",t.openedWorkspaceId?" : "+Object(x.g)(t.notes.get(t.openedWorkspaceId)):t.workspaceIds.length?r?" : unsaved thread ":" : unsaved collection ":null]}),t.workspaceIds.length||t.openedWorkspaceId?Object(h.jsx)("div",{children:Object(h.jsx)(n.b,{size:"2em",className:"tools-btn close-btn",onClick:function(){return o()},color:s?"white":"black"})}):null]})},z=function(e){var t=e.dashboard,r=e.darkMode,o=e.selectNote,s=e.mergeMode,a=e.threadOrCollection,c=e.openEditor,n=e.rootsOrBranches,l=e.closeAndSave,d=e.draggableInfo;return Object(h.jsxs)("div",{children:[Object(h.jsx)(F,{dashboard:t,threadOrCollection:a,closeAndSave:l,darkMode:r}),Object(h.jsx)(E,{notes:t.workspace,areaName:"workspace-area",handleNotePress:o,darkMode:r,selectedNote:t.notes.get(t.selectedNoteId),mergeMode:s,threadOrCollection:a,openEditor:c,workspaceFlag:!t.openedWorkspaceId,rootsOrBranches:n,draggableInfo:d})]})},B=r(11),S=function(e){var t=e.dashboard,r=e.darkMode,o=e.mergeMode,s=e.threadOrCollection,a=e.openEditor,c=e.rootsOrBranches,n=e.draggableInfo,l="workspace-area"===n.sourceArea||n.note&&n.note.id===t.selectedNoteId;return Object(h.jsxs)("div",{children:[Object(h.jsxs)("label",{className:"stripe-label stripe-not-overflow",style:{width:"90vw"},children:[c?" ROOTS":" BRANCHES",t.selectedNoteId&&" - "+Object(x.g)(t.notes.get(t.selectedNoteId))]}),Object(h.jsx)(E,{notes:t.links,areaName:"branches-area",darkMode:r,handleNotePress:function(){},selectedNote:t.notes.get(t.selectedNoteId),mergeMode:o,threadOrCollection:s,openEditor:function(e){o||(B.h.selection="prev",t.prevSelectedNoteId=t.selectedNoteId,t.selectedNoteId=e.id,a())},rootsOrBranches:c,isDropDisabled:l})]})},A=function(e){var t=e.handleOnDragEnd,r=e.closeCollection,s=e.dashboard,a=e.darkMode,c=e.addNote,n=e.selectNote,l=e.mergeMode,d=e.threadOrCollection,i=e.openEditor,b=e.rootsOrBranches,j=e.closeAndSave,g=e.searchProps,p=e.setSearchProps,m=Object(o.useState)({sourceArea:"",note:{id:null}}),f=Object(u.a)(m,2),x=f[0],k=f[1];return Object(h.jsxs)(O.a,{onDragEnd:t,onDragStart:function(e){return function(e,t,r){window.navigator.vibrate&&window.navigator.vibrate(25);var o={},s=e.source.droppableId;o.sourceArea=s;var a=e.source.index,c=null;"workspace-area"===s?c=t.workspace[a]:"search-area"===s?c=t.search[a]:"links-area"===s&&(c=t.links[a]),c&&(o.note=c),r(o)}(e,s,k)},children:[Object(h.jsx)(D,{closeCollection:r,dashboard:s,darkMode:a,addNote:c,selectNote:n,mergeMode:l,threadOrCollection:d,openEditor:i,rootsOrBranches:b,searchProps:g,setSearchProps:p,draggableInfo:x}),Object(h.jsx)(z,{dashboard:s,darkMode:a,selectNote:n,mergeMode:l,threadOrCollection:d,openEditor:i,rootsOrBranches:b,closeAndSave:j,draggableInfo:x}),Object(h.jsx)(S,{dashboard:s,darkMode:a,mergeMode:l,threadOrCollection:d,openEditor:i,rootsOrBranches:b,draggableInfo:x})]})};t.default=function(e){var t=e.darkMode,r=e.dashboard,o=e.handleOnDragEnd,s=e.GAPIloaded,a=e.currentUser,c=e.setCurrentPage,n=e.notesUpdating,l=e.setDarkMode,d=e.closeCollection,i=e.addNote,b=e.selectNote,u=e.mergeMode,O=e.setMergeMode,g=e.openEditor,p=e.rootsOrBranches,m=e.closeAndSave,f=e.threadOrCollection,x=e.threadOrCollectionManage,k=e.setRootsOrBranches,N=e.searchProps,C=e.setSearchProps,v=e.synchNotes,w=e.editorMode;return Object(h.jsxs)("div",{className:t?"container dark-mode":"container",children:[Object(h.jsx)(A,{handleOnDragEnd:o,closeCollection:d,dashboard:r,darkMode:t,addNote:i,selectNote:b,mergeMode:u,threadOrCollection:f,openEditor:g,rootsOrBranches:p,closeAndSave:m,searchProps:N,setSearchProps:C,editorMode:w}),Object(h.jsx)(j,{threadOrCollectionManage:x,threadOrCollection:f,setRootsOrBranches:k,rootsOrBranches:p,setDarkMode:l,mergeMode:u,setMergeMode:O,selectedNote:r.notes.get(r.selectedNoteId),setCurrentPage:c,notesUpdating:n,loadedUser:s&&a,synchNotes:v,darkMode:t})]})}}}]);
//# sourceMappingURL=9.9cb6b7b8.chunk.js.map