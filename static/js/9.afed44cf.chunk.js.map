{"version":3,"sources":["components/ColorPicker.js","components/Footer.js","components/SearchBar.js","components/SearchLabel.js","components/Note.js","components/Wrapper.js","components/NotesList.js","components/SearchArea.js","components/WorkspaceLabel.js","components/WorkspaceArea.js","components/LinksArea.js","components/NotesDragContext.js","components/NotesPage.js"],"names":["ColorPicker","selectedNote","setBackColor","setHasChanged","searchProps","setSearchProps","trigger","className","style","color","colorFilter","undefined","fontSize","size","nested","modal","position","onChange","searchText","threadFilter","collectionFilter","hex","colorPreview","setColor","colors","triangle","Footer","threadOrCollectionManage","threadOrCollection","setRootsOrBranches","rootsOrBranches","setDarkMode","mergeMode","setMergeMode","setCurrentPage","notesUpdating","loadedUser","synchNotes","darkMode","darkModeSwitch","window","localStorage","setItem","previousDarkMode","borderTop","onClick","transform","previous","alert","mergeModeOn","type","height","width","driveNotConnected","SearchBar","isDropDisabled","droppableId","provided","snapshot","droppableProps","ref","innerRef","placeholder","event","target","value","toLowerCase","isDraggingOver","margin","SearchLabel","closeCollection","dashboard","openedCollectionId","getCaption","notes","get","Note","note","areaName","index","handleNotePress","openEditor","draggableId","ui_id","id","name","draggableProps","dragHandleProps","onDoubleClick","backgroundImage","backgroundColor","border","isDropAnimating","pinned","thread","length","collection","branches","roots","attachedImg","text","dangerouslySetInnerHTML","__html","preview","Wrapper","notesLength","draggableInfo","sourceArea","find","minWidth","SLICESIZE","NotesList","handleAddNote","workspaceFlag","useState","sessionStorage","getItem","parseInt","currentSlice","setCurrentSlice","isVisible","setIsVisible","useEffect","slicedNotes","slice","scrollSucceded","focusPos","targetElement","document","getElementById","scrollIntoView","inline","align","dir","prop","visibility","direction","map","SearchArea","addNote","selectNote","search","selectedNoteId","WorkspaceLabel","closeAndSave","openedWorkspaceId","workspaceIds","WorkspaceArea","workspace","LinksArea","links","NoteDragContext","handleOnDragEnd","setDraggableInfo","onDragEnd","onDragStart","start","navigator","vibrate","source","sourceIndex","noteFound","NotesPage","GAPIloaded","currentUser"],"mappings":"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","file":"static/js/9.afed44cf.chunk.js","sourcesContent":["/*\nAuthor: Nicola Mendini\nDate: 13/09/2021\nThinkyThreads Project\nColorPicker component\nImplements the color picker element of the \nrich text editor. Used to select the color \nfor the note from a selection of pastel colors\n*/\n\nimport { GithubPicker } from \"react-color\"\nimport { BsDropletHalf } from \"react-icons/bs\"\nimport Popup from \"reactjs-popup\"\n\n// Utils function needed to set the color through a switch\n// Takes the chosen color, the current selected note and \n// A function to set the state of the editor\nconst setColor = (color, selectedNote, setBackColor, setHasChanged, setSearchProps) => {\n\n    // Only used if the picker is in the dashboard\n    if(setSearchProps){\n        setSearchProps(\n            (searchProps) => ({\n                searchText: searchProps.searchText, \n                threadFilter: searchProps.threadFilter, \n                collectionFilter: searchProps.collectionFilter,\n                colorFilter: color.hex\n            })\n        )\n        return \n    }\n\n    setHasChanged(true)\n    selectedNote.colorPreview = color.hex;\n\n    switch(color.hex) {\n        case '#b80000':\n            selectedNote.color = '#EB9694'\n            break;\n        case '#db3e00':\n            selectedNote.color = '#FAD0C3'\n            break;\n        case '#fccb00':\n            selectedNote.color = '#FEF3BD'\n            break;\n        case '#008b02':\n            selectedNote.color = '#C1E1C5'\n            break;\n        case '#006b76':\n            selectedNote.color = '#BEDADC'\n            break;\n        case '#1273de':\n            selectedNote.color = '#C4DEF6'\n            break;\n        case '#5300eb':\n            selectedNote.color = '#d4c4fb'\n            break;\n        case '#ededed':\n            selectedNote.color = '#ffffff'\n            break;\n        default:\n            break\n    }\n    setBackColor({color: selectedNote.color, colorPreview: selectedNote.colorPreview})\n}\n\n// Color Picker component\n// Takes the current selected note and \n//a function to set the color state of the editor\nconst ColorPicker = ({\n    selectedNote,\n    setBackColor,\n    setHasChanged,\n    searchProps,\n    setSearchProps\n}) => {\n\n    return (\n        <Popup\n            trigger={\n                <div className='tools-btn' style={{color : searchProps ? searchProps.colorFilter : undefined, fontSize: '19px'}}>\n                    {searchProps ? '⬤' :\n                        <BsDropletHalf\n                            size='1.6em'\n                        />\n                    }\n                </div>\n            } \n            nested\n            modal\n            position='right'\n        >\n            <div className='picker'>\n                <GithubPicker \n                    onChange={(color)=> setColor(color, selectedNote, setBackColor, setHasChanged, setSearchProps)}\n                    colors={['#B80000', '#DB3E00', '#FCCB00', '#008B02', '#006B76', '#1273DE', '#5300EB', '#EDEDED']}\n                    triangle='hide'\n                />\n            </div>\n        </Popup>\n    )\n}\nexport default ColorPicker","/*\nAuthor: Nicola Mendini\nDate: 13/09/2021\nThinkyThreads Project\nEditorFooter component\nDefines the buttons of the footer and calls the respective functions\n*/\n\nimport { FcIdea, FcSettings, FcParallelTasks, FcBrokenLink, FcLink, FcImport, FcCheckmark, FcCancel} from 'react-icons/fc'\nimport { AiOutlineDisconnect, AiOutlineLink, AiOutlineBranches, AiOutlineImport, AiOutlineStop } from 'react-icons/ai';\nimport { GoLightBulb } from 'react-icons/go';\nimport { VscSettingsGear, VscCheck, VscSync } from 'react-icons/vsc';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport { driveNotConnected, mergeModeOn } from '../helpers/Messages';\nimport React from 'react'\n\n// Footer component\n// takes the threadOrCollection state and a function to change it,\n// rootsOrBranches state and a function to chage it,\n// a function to switch the darkMode state\n// mergeMode state and a function to change it,\n// the selectedNote,\n// a function to change the current page, used to move to settings page,\n// the notesUpdating flag to show the animation\n// and the loadedUser flag to pass to the settings\n// Most of the props are used to show the correct icons and switch states\nconst Footer = ({\n    threadOrCollectionManage, \n    threadOrCollection, \n    setRootsOrBranches, \n    rootsOrBranches, \n    setDarkMode, \n    mergeMode, \n    setMergeMode,\n    selectedNote,\n    setCurrentPage,\n    notesUpdating,\n    loadedUser,\n    synchNotes,\n    darkMode\n}) => {\n\n    const darkModeSwitch = () =>{\n        window.localStorage.setItem('dark-mode', !darkMode)\n        setDarkMode((previousDarkMode) => !previousDarkMode)\n    }\n    return(\n        <div className='page-footer'\n            style={{\n                borderTop: darkMode ? '1px solid #303030' : '1px solid #cccccc'\n            }}\n        >\n            {darkMode ?\n                <VscSettingsGear\n                    className='tools-btn'\n                    onClick={() => setCurrentPage('settings')}\n                    size='2.5em'\n                    style={{transform: 'scale(0.75)'}}\n                />\n                :\n                <FcSettings\n                    className='tools-btn'\n                    onClick={() => setCurrentPage('settings')}\n                    size='2.5em'\n                />\n            }\n\n            {!threadOrCollection ? (\n                darkMode ? \n                    <AiOutlineDisconnect\n                        onClick={() =>\n                            threadOrCollectionManage(\n                                !threadOrCollection\n                            )\n                        }\n                        size='2.5em'\n                        className='tools-btn'\n                        style={{transform: 'rotate(45deg) scale(0.85)'}}\n                    />\n                :\n                    <FcBrokenLink\n                        onClick={() =>\n                            threadOrCollectionManage(\n                                !threadOrCollection\n                            )\n                        }\n                        size='2.5em'\n                        className='tools-btn'\n                    />\n            )\n            :\n            (\n                darkMode ?\n                    <AiOutlineLink\n                        onClick={() =>\n                            threadOrCollectionManage(\n                                !threadOrCollection\n                            )\n                        }\n                        size='2.5em'\n                        className='tools-btn'\n                        style={{transform: 'rotate(45deg) scale(0.85)'}}\n                    />\n                :\n                    <FcLink\n                        onClick={() =>\n                            threadOrCollectionManage(\n                                !threadOrCollection\n                            )\n                        }\n                        size='2.5em'\n                        className='tools-btn'\n                    />\n                )\n            }\n            {\n                darkMode ?\n                    <AiOutlineBranches\n                        onClick={() =>\n                            setRootsOrBranches(\n                                (previous) => !previous\n                            )\n                        }\n                        size='2.1em'\n                        className='tools-btn'\n                        style={rootsOrBranches ? {transform: 'scaleX(-1) rotate(90deg)'} : {transform: 'rotate(90deg)'}}\n                    />\n                :\n                    <FcParallelTasks\n                        onClick={() =>\n                            setRootsOrBranches(\n                                (previous) => !previous\n                            )\n                        }\n                        size='2.5em'\n                        className='tools-btn'\n                        style={rootsOrBranches && {transform: 'scaleX(-1)'}}\n                    />\n            }\n\n            {selectedNote ?\n                darkMode ?\n                    <AiOutlineImport\n                        onClick={() =>{\n                                setMergeMode(\n                                    (previous) => !previous\n                                )\n                                if(!mergeMode){\n                                    alert(mergeModeOn)\n                                }\n                            }\n                        }\n                        size='1.8em'\n                        className='tools-btn'\n                        style={{transform:'scaleX(1.1) rotate(-90deg)'}}\n                    /> \n                :\n                    <FcImport\n                        onClick={() =>{\n                                setMergeMode(\n                                    (previous) => !previous\n                                )\n                                if(!mergeMode){\n                                    alert(mergeModeOn)\n                                }\n                            }\n                        }\n                        size='2.3em'\n                        className='tools-btn'\n                        style={{transform:'scaleY(1.15) rotate(-90deg)'}}\n                    />    \n            : null}\n\n            {darkMode ?\n                <GoLightBulb\n                    onClick={() => darkModeSwitch()}\n                    size='2.5em'\n                    className='tools-btn'\n                    style={{transform: 'scaleY(0.7) scaleX(0.7)'}}\n                />  \n            :\n                <FcIdea\n                onClick={() => darkModeSwitch()}\n                size='2.5em'\n                className='tools-btn'\n                />  \n            }\n\n            {loadedUser ? (\n                notesUpdating>0?\n\n                    darkMode ? \n                        <VscSync \n                            size='2em'\n                        /> \n                    :\n                        <Loader \n                            type=\"Circles\" \n                            color=\"#00BFFF\" \n                            height='1.8em'\n                            width='2.3em'\n                        /> \n\n                :\n\n                    darkMode ? \n                        <VscCheck\n                            size='2em'\n                            className='tools-btn'\n                            onClick={()=>synchNotes()}\n                            style={{transform: 'scaleY(0.85)'}}\n                        />\n                    :\n                        <FcCheckmark\n                            size='2.3em'\n                            className='tools-btn'\n                            onClick={()=>synchNotes()}\n                        />\n            ) :\n\n            darkMode ?\n                <AiOutlineStop\n                    size='1.8em'\n                    onClick={()=>alert(driveNotConnected)}\n                    style={{transform: 'scaleX(-1)'}}\n                />\n            :\n                <FcCancel\n                    size='2.3em'\n                    onClick={()=>alert(driveNotConnected)}\n                />\n            }\n\n        </div>\n    );\n}\n\nexport default Footer;","/*\nAuthor: Nicola Mendini\nDate: 13/09/2021\nThinkyThreads Project\nSearchBar component\n*/\n\nimport React from 'react';\nimport { Droppable } from 'react-beautiful-dnd';\nimport { FcSearch } from 'react-icons/fc';\nimport { BiSearchAlt } from 'react-icons/bi'\nimport ColorPicker from './ColorPicker';\n\nconst SearchBar = ({ \n\tsetSearchProps, \n\tsearchProps ,\n\tisDropDisabled,\n\tdarkMode\n}) => {\n\n\treturn (\n\n\t\t<Droppable \n\t\t\tdroppableId={'search-bar'}\n\t\t\tisDropDisabled={isDropDisabled}\n\t\t>\n\t\t\t{(provided, snapshot) => (\n                <div \n                    className={darkMode ? 'search-dark' : 'search-bright'}\n                    {...provided.droppableProps} \n                    ref={provided.innerRef} \n\t\t\t\t>\n\t\t\t\t\t{darkMode ?\n\t\t\t\t\t\t<BiSearchAlt className='search-icons' size='2em' style={{transform: 'scale(0.8)'}}/>\n\t\t\t\t\t:\n\t\t\t\t\t\t<FcSearch className='search-icons' size='2em' />\n\t\t\t\t\t}\n\t\t\t\t\t{provided.placeholder}\n\n\t\t\t\t\t<input\n\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\tsetSearchProps({\n\t\t\t\t\t\t\t\tsearchText: event.target.value.toLowerCase(), \n\t\t\t\t\t\t\t\tthreadFilter: searchProps.threadFilter, \n\t\t\t\t\t\t\t\tcollectionFilter: searchProps.collectionFilter,\n\t\t\t\t\t\t\t\tcolorFilter: searchProps.colorFilter\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t)}\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tplaceholder={\n\t\t\t\t\t\t\tsnapshot.isDraggingOver ?\n\t\t\t\t\t\t\t\t'Work within this collection'\n\t\t\t\t\t\t\t: \n\t\t\t\t\t\t\t\t'Type to search'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\tvalue={searchProps.searchText}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<span \n\t\t\t\t\t\tclassName='search-filter tools-btn' \n\t\t\t\t\t\tstyle={searchProps.threadFilter ?  {color:'red'} : {}}\n\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\tsetSearchProps({\n\t\t\t\t\t\t\t\tsearchText: searchProps.searchText, \n\t\t\t\t\t\t\t\tthreadFilter: !searchProps.threadFilter, \n\t\t\t\t\t\t\t\tcollectionFilter: searchProps.collectionFilter,\n\t\t\t\t\t\t\t\tcolorFilter: searchProps.colorFilter\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\tT\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<span \n\t\t\t\t\t\tclassName='search-filter tools-btn'\n\t\t\t\t\t\tstyle={searchProps.collectionFilter ? {color:'red'} : {}}\n\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\tsetSearchProps({\n\t\t\t\t\t\t\t\tsearchText: searchProps.searchText, \n\t\t\t\t\t\t\t\tthreadFilter: searchProps.threadFilter, \n\t\t\t\t\t\t\t\tcollectionFilter: !searchProps.collectionFilter,\n\t\t\t\t\t\t\t\tcolorFilter: searchProps.colorFilter\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\tC\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<span style={{margin: '0 5px 0 0'}}>\n\t\t\t\t\t\t<ColorPicker \n\t\t\t\t\t\t\tsetBackColor={{}}\n\t\t\t\t\t\t\tsetHasChanged={{}}\n\t\t\t\t\t\t\tsearchProps={searchProps}\n\t\t\t\t\t\t\tsetSearchProps={setSearchProps}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</span>\n\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t</Droppable>\n\t);\n};\n\nexport default SearchBar;\n","/*\nAuthor: Nicola Mendini\nDate: 13/09/2021\nThinkyThreads Project\nSearchLabel component\nGives information about the current state of the search\nand the filters applied to it\n*/\n\nimport React from 'react';\nimport { getCaption } from '../helpers/DashboardUtils';\nimport { VscChromeClose } from 'react-icons/vsc';\n\nconst SearchLabel = ({ \n    searchProps, \n    closeCollection, \n    dashboard,\n    darkMode\n}) => {\n\n    return(\n        <div className='stripe-label'>\n\n            <div className='stripe-not-overflow' style={{width: '80vw'}}>\n                NOTE FINDER  \n                {searchProps.threadFilter && ' - THREADS'} \n                {searchProps.collectionFilter && ' - COLLECTIONS'}\n                {\n                    dashboard.openedCollectionId && ' : ' + \n                    getCaption(dashboard.notes.get(dashboard.openedCollectionId))\n                }\n            </div>\n\n            {dashboard.openedCollectionId && \n                <div>\n                    <VscChromeClose \n                        size='2em'\n                        className='tools-btn close-btn'\n                        onClick={() => closeCollection()}\n                        color={darkMode ? 'white' : 'black'}\n                    />\n                </div>\n            }\n\n        </div>\n    )\n}\n\nexport default SearchLabel","/*\nAuthor: Nicola Mendini\nDate: 13/09/2021\nThinkyThreads Project\nNote component\nDefines the single note object and all the actions that are possible with it\n*/\n\nimport { Draggable } from 'react-beautiful-dnd';\nimport React from 'react';\nimport {RiPushpin2Fill} from 'react-icons/ri'\nimport { FaLink, FaFolder } from 'react-icons/fa'\nimport { ImTree } from 'react-icons/im'\nimport { FiPaperclip } from 'react-icons/fi'\n\n// Note component takes the note to show, \n// the name of the area it compares in,\n// the index of the note inside the sequence,\n// handleNotePress to select a note if it is pressed,\n// the darkMode, mergeMode, rootsOrBranches, threadOrCollection flags\n// the selectedNote,\n// the openEditor function to edit the note on double click\nconst Note = ({ \n\tnote, \n\tareaName, \n\tindex, \n\thandleNotePress, \n\tdarkMode, \n\tselectedNote,\n\tmergeMode,\n\topenEditor,\n\trootsOrBranches,\n\tthreadOrCollection\n\n}) => {\n\n\treturn (\n\n\t\t\t<Draggable key={note.ui_id} draggableId={note.ui_id} index={index}>\n\t\t\t\t{(provided, snapshot) => (\n\t\t\t\t\t\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<li \n\t\t\t\t\t\tclassName={`${\n\t\t\t\t\t\t\t(mergeMode && selectedNote.id===note.id && 'note no-scrollbar merge-mode')\n\t\t\t\t\t\t\t||\n\t\t\t\t\t\t\t(((darkMode && selectedNote && selectedNote.id===note.id) && \n\t\t\t\t\t\t\t\t'note note-dark no-scrollbar selected-note-dark') || \n\t\t\t\t\t\t\t((darkMode && (!selectedNote || selectedNote.id!==note.id)) && \n\t\t\t\t\t\t\t\t'note note-dark no-scrollbar') ||\n\t\t\t\t\t\t\t((!darkMode && selectedNote && selectedNote.id===note.id ) &&\n\t\t\t\t\t\t\t\t'note note-bright no-scrollbar selected-note') ||\n\t\t\t\t\t\t\t((!darkMode && (!selectedNote ||selectedNote.id!==note.id)) &&\n\t\t\t\t\t\t\t\t'note note-bright no-scrollbar')) \n\t\t\t\t\t\t}`}\n\t\t\t\t\t\tname={note.id}\n\t\t\t\t\t\tid={note.ui_id}\n\t\t\t\t\t\tref={provided.innerRef} \n\t\t\t\t\t\t{...provided.draggableProps}\n\t\t\t\t\t\t{...provided.dragHandleProps}\n\t\t\t\t\t\tonClick={()=> {handleNotePress(note)}}\n\t\t\t\t\t\tonDoubleClick={()=> openEditor(note)}\n\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t!(mergeMode && selectedNote.id===note.id) ? (\n\t\t\t\t\t\t\t\t!darkMode && note.color!=='#ffffff' ? \n\t\t\t\t\t\t\t\t\t(selectedNote && selectedNote.id===note.id ? \n\t\t\t\t\t\t\t\t\t\t{backgroundColor: note.color, ...provided.draggableProps.style} : \n\t\t\t\t\t\t\t\t\t{backgroundColor: note.color, border: '1px solid '+note.color, ...provided.draggableProps.style}) : \n\t\t\t\t\t\t\t\t\t\t(note.color!=='#ffffff' ? \n\t\t\t\t\t\t\t\t\t\t\t{backgroundImage: 'linear-gradient(25deg, rgb(92, 92, 92) 92%, '+note.colorPreview+' 92%)', ...provided.draggableProps.style} \n\t\t\t\t\t\t\t\t\t\t\t: provided.draggableProps.style))\n\t\t\t\t\t\t\t: provided.draggableProps.style\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{snapshot.isDropAnimating}\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{note.pinned && areaName==='search-area' &&\n\t\t\t\t\t\t\t\t\t<RiPushpin2Fill size='10px' className='header-icon'/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{note.thread.length ?\n\t\t\t\t\t\t\t\t\t<FaLink size='10px' className='header-icon'/> : ''\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{note.collection.length ?\n\t\t\t\t\t\t\t\t\t<FaFolder size='10px' className='header-icon'/> : ''\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t{!rootsOrBranches && note.branches.length ?\n\t\t\t\t\t\t\t\t\t<ImTree size='10px' className='header-icon'/> : ''\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{rootsOrBranches && note.roots.length ?\n\t\t\t\t\t\t\t\t\t<ImTree size='10px' className='header-icon'/> : ''\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{note.attachedImg && !note.attachedImg[2] ?\n\t\t\t\t\t\t\t\t\t<FiPaperclip size='10px' className='header-icon' style={{transform:'rotate(-45deg)'}}/> : ''\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{!note.attachedImg || !note.attachedImg[2] ?\n\t\t\t\t\t\t\t\t<div className='note-content no-scrollbar' dangerouslySetInnerHTML={{__html: note.preview}}></div> : \n\t\t\t\t\t\t\t\t<div className='just-background-note' style={{backgroundImage: 'url('+ note.text +')'}}></div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</Draggable>\n\t);\n};\n\nexport default Note;\n","/*\nAuthor: Nicola Mendini\nDate: 13/09/2021\nThinkyThreads Project\nWrapper component\nUsed to wrap an unsaved thread inside an empty note\nor to expand the thread or collection contained in any\narbitrary note\n*/\n\nimport {Droppable} from 'react-beautiful-dnd';\nimport React from 'react'\n\nconst Wrapper = ({\n\tthreadOrCollection,\n    notesLength,\n    draggableInfo,\n    notes,\n    darkMode\n}) => {\n\n    // Disable dropping here unless the note comes from the search area\n    // and it is empty if you are trying to wrap an unsaved thread/collection\n    // or it is full if you are trying to expand it to show its content\n    const isDropDisabled = \n        draggableInfo.sourceArea!=='search-area' ||\n        (\n            notesLength>0 ? (\n\n                draggableInfo.note.thread.length>0 || \n                draggableInfo.note.collection.length>0\n            )\n            :\n            (\n                !draggableInfo.note.thread.length && \n                !draggableInfo.note.collection.length \n            )\n            \n        ) ||\n        (notes.find(note => note.id===draggableInfo.note.id)!==undefined)\n    \n    return (\n\n        <Droppable \n            droppableId='wrapper-area'\n            isDropDisabled={isDropDisabled}\n        >\n\n            {(provided, snapshot) => (\n                <div \n                    className='wrapper'\n                    {...provided.droppableProps} \n                    ref={provided.innerRef} \n                    style={ \n                        notesLength > 0 ? (\n                            {\n                            ...(\n                                darkMode ?\n                                    threadOrCollection ? {backgroundColor:'#fccb00', color:'black'} \n                                    : {backgroundColor:'#1273de', color:'white'}\n                                :\n                                    threadOrCollection ? {backgroundColor:'#fef3bd', color:'black'} \n                                    : {backgroundColor:'#c4def6', color:'black'}\n                            ), \n                            ...(!snapshot.isDraggingOver && {minWidth:\"8vh\"})\n                            })\n                        : \n                        darkMode ?\n                        {backgroundColor: '#2e2e2e', minWidth:\"8vh\", color: '#666666'}\n                        :\n                        {backgroundColor: '#e7e7e7', minWidth:\"8vh\"}\n                    }\n                >\n\n                <div className='vertical-text'>{notesLength>0 ? 'WRAP' : 'drop to expand'}</div>\n\n                {provided.placeholder}\n\n                {\n                    snapshot.isDraggingOver?\n                    \n                        (notesLength > 0 ?\n                            (\n                                <div className='vertical-text'>\n                                    wrap <br></br> \n                                    {threadOrCollection ? ' thread ' : ' collection '}\n                                    <br></br> \n                                    inside note\n                                </div>\n                            ) \n                        :\n                            (\n                                <div className='vertical-text'>\n                                    expand\n                                    <br></br> \n                                    {draggableInfo.note.thread.length ? \n                                        'thread' : 'collection'\n                                    }\n                                </div>\n                            ) \n                        ) : null\n                }\n\n                </div>\n\n            )}\n\n        </Droppable>\n\n    )\n}\nexport default Wrapper","/*\nAuthor: Nicola Mendini\nDate: 13/09/2021\nThinkyThreads Project\nNotesList component\nDefines a general list of notes that acts as a Droppable\nin the framework of React Beautiful Dnd\n*/\n\nimport Note from './Note';\nimport {Droppable} from 'react-beautiful-dnd';\nimport { useEffect, useState } from 'react';\nimport {FcNext, FcPrevious, FcPlus} from 'react-icons/fc';\nimport { BsChevronRight, BsChevronLeft } from 'react-icons/bs';\nimport { BsPlusSquare } from 'react-icons/bs'\nimport Wrapper from './Wrapper';\nimport React from 'react'\n\n// Max size of a row of notes, it is necessary to press the arrow\n// button to access further notes\nconst SLICESIZE = 12;\n\nconst NotesList = ({\n\tnotes,\n\thandleAddNote,\n\tareaName,\n\thandleNotePress,\n\tdarkMode,\n\tselectedNote,\n\tmergeMode,\n\tthreadOrCollection,\n\topenEditor,\n\tworkspaceFlag, \n\trootsOrBranches,\n\tisDropDisabled,\n\tdraggableInfo\n}) => {\n\n\t// State that defines the slice the user is at\n\tconst [currentSlice, setCurrentSlice] = useState(\n\t\twindow.sessionStorage.getItem('current-slice-'+areaName) ? \n\t\tparseInt(window.sessionStorage.getItem('current-slice-'+areaName)) :\n\t\t0\n\t)\n\t// State to hide the NotesList until the scroll is performed, used to avoid flickering\n\tconst [isVisible, setIsVisible] = useState(false)\n\n\t// Effect to set back the scroll once exiting the editor\n\tuseEffect(() => {\n\t\tconst slicedNotes = notes.slice(currentSlice*SLICESIZE, (currentSlice+1)*SLICESIZE+SLICESIZE)\n\t\tvar scrollSucceded=false\n\n\t\t// If there is a selectedNote to scroll to, do it\n\t\tif(selectedNote){\n\t\t\tconst focusPos = slicedNotes.find(note => note.id === selectedNote.id)\n\t\t\tif(focusPos){\n\t\t\t\tconst targetElement = document.getElementById(focusPos.ui_id)\n\t\t\t\tif(targetElement){\n\t\t\t\t\ttargetElement.scrollIntoView({inline: 'center'})\n\t\t\t\t\tscrollSucceded=true\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Otherwise, some search is performed but there are no notesin the current slices, go to slice 0\n\t\tif(!slicedNotes.length && currentSlice!==0 && !scrollSucceded && areaName==='search-area'){\n\t\t\tsetCurrentSlice(0)\n\t\t\twindow.sessionStorage.setItem('current-slice-'+areaName, 0)\n\t\t}\n\t\tsetIsVisible(true)\n\t// eslint-disable-next-line\n\t}, [notes])\n\n\t// Function used to change slice based on which arrow button has been pressed\n\tconst align = (dir) => {\n\n\t\t// Before changing slice, set up the autoscroll\n\t\t// Initialise a prop based on whether the button was next or prev\n\t\tconst prop = dir===-1 ? {inline:'start'} : {inline:'end'}\n\t\tvar focusPos = currentSlice*SLICESIZE+SLICESIZE-1\n\n\t\t// If overflows, go back to last note of the sequence\n\t\tif(focusPos>notes.length-1){\n\t\t\tfocusPos=notes.length-1\n\t\t}\n\n\t\t// scroll into the last note of the previous slice to give the idea of continuity \n\t\t// between slices\n\t\tdocument.getElementById(notes[focusPos].ui_id).scrollIntoView(prop);\n\t\tsetCurrentSlice(currentSlice+dir)\n\t\twindow.sessionStorage.setItem('current-slice-'+areaName, currentSlice+dir)\n\t}\n\n\tconst slicedNotes = notes.slice(currentSlice*SLICESIZE, (currentSlice+1)*SLICESIZE+SLICESIZE)\n\n\treturn (\n\n\t\t<div style={{visibility: isVisible ? 'visible' : 'hidden'}}>\n\n\t\t\t<Droppable \n\t\t\t\tdroppableId={areaName} \n\t\t\t\tdirection='horizontal' \n\t\t\t\tclassName='droppable-wrapper' \n\t\t\t\tisDropDisabled={isDropDisabled}\n\t\t\t>\n\n\t\t\t\t{(provided) => (\n\n\t\t\t\t\t<ul \n\t\t\t\t\t\tclassName='notes-list' \n\t\t\t\t\t\t{...provided.droppableProps} \n\t\t\t\t\t\tref={provided.innerRef} \n\t\t\t\t\t\tid={areaName}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{currentSlice>0 ?\n\t\t\t\t\t\t\t\t\tdarkMode ?\n\t\t\t\t\t\t\t\t\t\t<BsChevronLeft \n\t\t\t\t\t\t\t\t\t\t\tclassName='tools-btn arrow-btn'\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => align(-1)}\n\t\t\t\t\t\t\t\t\t\t\tsize='2.5em'\n\t\t\t\t\t\t\t\t\t\t\tcolor='#666666'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t<FcPrevious \n\t\t\t\t\t\t\t\t\t\t\tclassName='tools-btn arrow-btn'\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => align(-1)}\n\t\t\t\t\t\t\t\t\t\t\tsize='2.5em'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t: null}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{(areaName==='workspace-area' && workspaceFlag) &&\n\n\t\t\t\t\t\t\t\t<Wrapper \n\t\t\t\t\t\t\t\t\tthreadOrCollection={threadOrCollection}\n\t\t\t\t\t\t\t\t\tnotesLength={notes.length}\n\t\t\t\t\t\t\t\t\tdraggableInfo={draggableInfo}\n\t\t\t\t\t\t\t\t\tnotes={notes}\n\t\t\t\t\t\t\t\t\tdarkMode={darkMode}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{(areaName==='search-area' && currentSlice===0) &&\n\t\t\t\t\t\t\t\t\t(darkMode ?\n\t\t\t\t\t\t\t\t\t<BsPlusSquare \n\t\t\t\t\t\t\t\t\t\tclassName='tools-btn arrow-btn add-btn'\n\t\t\t\t\t\t\t\t\t\tonClick={() => handleAddNote()}\n\t\t\t\t\t\t\t\t\t\tsize='2.25em'\n\t\t\t\t\t\t\t\t\t\tcolor='#555555'\n\t\t\t\t\t\t\t\t\t\tstyle={{transform: 'scale(0.8)'}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<FcPlus\n\t\t\t\t\t\t\t\t\t\tclassName='tools-btn arrow-btn add-btn'\n\t\t\t\t\t\t\t\t\t\tonClick={() => handleAddNote()}\n\t\t\t\t\t\t\t\t\t\tsize='2.25em'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{slicedNotes.map((note, index) => (\n\n\t\t\t\t\t\t\t\t<Note\n\t\t\t\t\t\t\t\t\tkey={note.ui_id}\n\t\t\t\t\t\t\t\t\tnote={note}\n\t\t\t\t\t\t\t\t\tareaName={areaName}\n\t\t\t\t\t\t\t\t\tindex={index+currentSlice*SLICESIZE}\n\t\t\t\t\t\t\t\t\thandleNotePress={handleNotePress}\n\t\t\t\t\t\t\t\t\tdarkMode={darkMode}\n\t\t\t\t\t\t\t\t\tselectedNote={selectedNote}\n\t\t\t\t\t\t\t\t\tmergeMode={mergeMode}\n\t\t\t\t\t\t\t\t\topenEditor={openEditor}\n\t\t\t\t\t\t\t\t\trootsOrBranches={rootsOrBranches}\n\t\t\t\t\t\t\t\t\tthreadOrCollection={threadOrCollection}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\n\t\t\t\t\t\t\t{provided.placeholder}\n\n\t\t\t\t\t\t\t<div> \n\t\t\t\t\t\t\t\t{(currentSlice+1)*SLICESIZE+SLICESIZE<notes.length ? \n\n\t\t\t\t\t\t\t\t\tdarkMode ?\n\t\t\t\t\t\t\t\t\t\t<BsChevronRight \n\t\t\t\t\t\t\t\t\t\t\tclassName='tools-btn arrow-btn'\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => align(1)}\n\t\t\t\t\t\t\t\t\t\t\tsize='2.5em'\n\t\t\t\t\t\t\t\t\t\t\tcolor='#666666'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t<FcNext \n\t\t\t\t\t\t\t\t\t\t\tclassName='tools-btn arrow-btn'\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => align(1)}\n\t\t\t\t\t\t\t\t\t\t\tsize='2.5em'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t: null}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t</ul>\n\t\t\t\t)}\n\n\t\t\t</Droppable>\n\t\t</div>\n\t);\n};\n\nexport default NotesList;\n","/*\nAuthor: Nicola Mendini\nDate: 13/09/2021\nThinkyThreads Project\nSearchArea component\nSearch Area that includes the searchBar, the Search Label\nand the notes list containing the results of the search\n*/\n\nimport React from 'react';\nimport SearchBar from './SearchBar';\nimport SearchLabel from './SearchLabel';\nimport NotesList from './NotesList';\n\nconst SearchArea = ({ \n    closeCollection, \n    dashboard, \n    darkMode, \n    addNote, \n    selectNote, \n    mergeMode, \n    threadOrCollection, \n    openEditor, \n    rootsOrBranches,\n    searchProps,\n    setSearchProps,\n    draggableInfo\n}) => {\n\n    // Dropping here is disabled unless the note comes from the \n    // search area itself and has a collection within it\n    // The gesture is used to expand it\n    const isDropDisabled = \n        draggableInfo.sourceArea!=='search-area' ||\n        !draggableInfo.note.collection.length\n\n    return(\n        <div>\n            <SearchBar \n                setSearchProps={setSearchProps} \n                searchProps={searchProps}\n                isDropDisabled={isDropDisabled}\n                darkMode={darkMode}\n            />\n\n            <div>\n                <SearchLabel \n                    searchProps={searchProps} \n                    closeCollection={closeCollection}\n                    dashboard={dashboard}\n                    darkMode={darkMode}\n                />\n                \n                <NotesList\n                    notes={dashboard.search}\n                    handleAddNote={addNote}\n                    areaName={'search-area'}\n                    handleNotePress={selectNote}\n                    darkMode={darkMode}\n                    selectedNote={dashboard.notes.get(dashboard.selectedNoteId)}\n                    mergeMode={mergeMode}\n                    threadOrCollection={threadOrCollection}\n                    openEditor={openEditor}\n                    rootsOrBranches={rootsOrBranches}\n                />\n            </div> \n        </div>\n    )\n}\n\nexport default SearchArea","/*\nAuthor: Nicola Mendini\nDate: 13/09/2021\nThinkyThreads Project\nWorkspaceLabel component\nGives information about the current state of the workspace\n*/\n\nimport React from 'react';\nimport { getCaption } from '../helpers/DashboardUtils';\nimport { VscChromeClose } from 'react-icons/vsc';\n\nconst WorkspaceLabel = ({ \n    dashboard,\n    threadOrCollection,\n    closeAndSave,\n    darkMode\n}) => {\n\nreturn(\n    <div className='stripe-label'>\n\n        <div className='stripe-not-overflow' style={{width: '80vw'}}>\n\n            CURRENT {threadOrCollection ? ' THREAD ' : ' COLLECTION '} \n            {dashboard.openedWorkspaceId ?\n                    ' : ' + getCaption(dashboard.notes.get(dashboard.openedWorkspaceId))\n                : (dashboard.workspaceIds.length ? \n                    (threadOrCollection ? ' : unsaved thread ' : ' : unsaved collection ') \n            : null)\n            }\n        </div>\n\n        {dashboard.workspaceIds.length || dashboard.openedWorkspaceId ?\n            <div>\n                <VscChromeClose \n                    size='2em'\n                    className='tools-btn close-btn'\n                    onClick={() => closeAndSave()}\n                    color={darkMode ? 'white' : 'black'}\n                />\n            </div>\n        : null}\n\n    </div>\n    )\n}\n\nexport default WorkspaceLabel","/*\nAuthor: Nicola Mendini\nDate: 13/09/2021\nThinkyThreads Project\nWorkspaceArea component\nContains the current workspace the user is working on\n*/\n\nimport React from 'react';\nimport NotesList from './NotesList';\nimport WorkspaceLabel from './WorkspaceLabel';\n\nconst WorkspaceArea = ({ \n    dashboard, \n    darkMode, \n    selectNote, \n    mergeMode, \n    threadOrCollection, \n    openEditor, \n    rootsOrBranches,\n    closeAndSave,\n    draggableInfo\n}) => { \n\n    return (\n        <div>\n\n            <WorkspaceLabel \n                dashboard={dashboard}\n                threadOrCollection={threadOrCollection}\n                closeAndSave={closeAndSave}\n                darkMode={darkMode}\n            />                \n\n            <NotesList\n                notes={dashboard.workspace}\n                areaName={'workspace-area'}\n                handleNotePress={selectNote}\n                darkMode={darkMode}\n                selectedNote={dashboard.notes.get(dashboard.selectedNoteId)}\n                mergeMode={mergeMode}\n                threadOrCollection={threadOrCollection}\n                openEditor={openEditor}\n                workspaceFlag={!dashboard.openedWorkspaceId}\n                rootsOrBranches={rootsOrBranches}\n                draggableInfo={draggableInfo}\n            />\n\n        </div>\n    )\n}\n\nexport default WorkspaceArea","/*\nAuthor: Nicola Mendini\nDate: 13/09/2021\nThinkyThreads Project\nLinksArea component\nDefines the lowest row of notes of the dashboard\nwhich shows the links starting from/coming into the selectedNote\nBased of a rootsOrBranches flag\n*/\n\nimport React from 'react';\nimport NotesList from './NotesList';\nimport { getCaption } from '../helpers/DashboardUtils';\n\n// LinksArea component,\n// takes the dashboard to get the notes from,\n// The darkmode flag\n// some draggableInfo to know where the drags start from\nconst LinksArea = ({ \n    dashboard, \n    darkMode, \n    mergeMode, \n    threadOrCollection, \n    openEditor, \n    rootsOrBranches,\n    draggableInfo,\n    selectNote\n}) => { \n\n    const isDropDisabled = \n        draggableInfo.sourceArea!=='search-area' ||\n        draggableInfo.note.id===dashboard.selectedNoteId\n\n    return (\n        <div>\n\n            <label className='stripe-label stripe-not-overflow' style={{width: '90vw'}}>\n                {!rootsOrBranches ? ' BRANCHES' : ' ROOTS'}\n                {dashboard.selectedNoteId && ' - ' + getCaption(dashboard.notes.get(dashboard.selectedNoteId))} \n            </label>\n\n            <NotesList\n                notes={dashboard.links}\n                areaName={'branches-area'}\n                darkMode={darkMode}\n                handleNotePress={() => {}}\n                selectedNote={dashboard.notes.get(dashboard.selectedNoteId)}\n                mergeMode={mergeMode}\n                threadOrCollection={threadOrCollection}\n                openEditor={!mergeMode ? (note) => {dashboard.selectedNoteId=note.id; openEditor()} : () => {}}\n                rootsOrBranches={rootsOrBranches}\n                isDropDisabled={isDropDisabled}\n            />\n\n        </div>\n    )\n}\n\nexport default LinksArea","/*\nAuthor: Nicola Mendini\nDate: 13/09/2021\nThinkyThreads Project\nNoteDragContext component\nDefines drag and drop context by using the React Beautiful DnD package\n*/\n\nimport React, { useState } from 'react';\nimport { DragDropContext } from 'react-beautiful-dnd';\nimport SearchArea from './SearchArea';\nimport WorkspaceArea from './WorkspaceArea';\nimport LinksArea from './LinksArea';\n\n// Function that is called when a drag starts\n// Stores information about the note that has been moved and its\n// original position inside a state that then gets passed\nconst onDragStart = (start, dashboard, setDraggableInfo) => {\n\n    // give some short tactile feedback\n    if (window.navigator.vibrate) {\n        window.navigator.vibrate(25);\n    }\n\n    // Initialise the draggableInfo state\n    const draggableInfo = {}\n    const sourceArea = start.source.droppableId\n    draggableInfo.sourceArea = sourceArea\n    const sourceIndex = start.source.index\n    var noteFound = null\n\n    // return the note itself so that it is possible to access some \n    // of its properties, eg: the collection that it contains\n    // this is used for some special gestures such as the dragging\n    // into the searchBar gesture\n    if(sourceArea==='workspace-area'){\n        noteFound = dashboard.workspace[sourceIndex]\n    }\n    else if(sourceArea==='search-area'){\n        noteFound = dashboard.search[sourceIndex]\n    }\n    else if(sourceArea==='links-area'){\n        noteFound = dashboard.links[sourceIndex]\n    }\n    \n    if(noteFound){\n        draggableInfo.note = noteFound\n    }\n    setDraggableInfo(draggableInfo)\n}\n\nconst NoteDragContext = ({ \n    handleOnDragEnd,\n    closeCollection,\n    dashboard,\n    darkMode,\n    addNote,\n    selectNote,\n    mergeMode,\n    threadOrCollection,\n    openEditor,\n    rootsOrBranches,\n    closeAndSave,\n    searchProps,\n    setSearchProps\n}) => {\n\n    const [draggableInfo, setDraggableInfo] = useState({\n        sourceArea: '',\n        note: null\n    })\n\n    return(\n\n        <DragDropContext \n            onDragEnd={handleOnDragEnd} \n            onDragStart={(start) => onDragStart(start, dashboard, setDraggableInfo)}\n        >\n                \n            <SearchArea \n                closeCollection={closeCollection} \n                dashboard={dashboard} \n                darkMode={darkMode}\n                addNote={addNote}\n                selectNote={selectNote}\n                mergeMode={mergeMode} \n                threadOrCollection={threadOrCollection}\n                openEditor={openEditor}\n                rootsOrBranches={rootsOrBranches}\n                searchProps={searchProps}\n                setSearchProps={setSearchProps}\n                draggableInfo={draggableInfo}\n            />                 \n\n            \n            <WorkspaceArea \n                dashboard={dashboard}\n                darkMode={darkMode}\n                selectNote={selectNote}\n                mergeMode={mergeMode} \n                threadOrCollection={threadOrCollection} \n                openEditor={openEditor} \n                rootsOrBranches={rootsOrBranches}\n                closeAndSave={closeAndSave}\n                draggableInfo={draggableInfo}\n            />\n\n            <LinksArea \n                dashboard={dashboard}\n                darkMode={darkMode}\n                mergeMode={mergeMode}\n                threadOrCollection={threadOrCollection}\n                openEditor={openEditor}\n                rootsOrBranches={rootsOrBranches}\n                draggableInfo={draggableInfo}\n                selectNote={selectNote}\n            />\n\n        </DragDropContext>\n    )\n}\nexport default NoteDragContext","/*\nAuthor: Nicola Mendini\nDate: 13/09/2021\nThinkyThreads Project\nNotesPage component\nMain notes page, as opposed to Editor page or settings page\nWraps the noteDragDropContext and the Footer\n*/\n\nimport React from 'react';\nimport Footer from './Footer'\nimport NoteDragContext from './NotesDragContext';\n\nconst NotesPage = ({ \n    darkMode,\n    dashboard,\n    handleOnDragEnd,\n    GAPIloaded,\n    currentUser,\n    setCurrentPage,\n    notesUpdating,\n    setDarkMode,\n    closeCollection,\n    addNote,\n    selectNote,\n    mergeMode,\n    setMergeMode,\n    openEditor,\n    rootsOrBranches,\n    closeAndSave,\n    threadOrCollection,\n    threadOrCollectionManage,\n    setRootsOrBranches,\n    searchProps,\n    setSearchProps,\n    synchNotes\n}) => {\n\n    return(\n\n        <div className={darkMode ? 'container dark-mode' : 'container'}>\n\n            <NoteDragContext \n                handleOnDragEnd={handleOnDragEnd}\n                closeCollection={closeCollection}\n                dashboard={dashboard}\n                darkMode={darkMode}\n                addNote={addNote}\n                selectNote={selectNote}\n                mergeMode={mergeMode}\n                threadOrCollection={threadOrCollection}\n                openEditor={openEditor}\n                rootsOrBranches={rootsOrBranches}\n                closeAndSave={closeAndSave}\n                searchProps={searchProps}\n                setSearchProps={setSearchProps}\n            />\n\n            <Footer \n                threadOrCollectionManage={threadOrCollectionManage}\n                threadOrCollection={threadOrCollection}\n                setRootsOrBranches={setRootsOrBranches}\n                rootsOrBranches={rootsOrBranches}\n                setDarkMode={setDarkMode}\n                mergeMode={mergeMode}\n                setMergeMode={setMergeMode}\n                selectedNote={dashboard.notes.get(dashboard.selectedNoteId)}\n                setCurrentPage={setCurrentPage}\n                notesUpdating={notesUpdating}\n                loadedUser={GAPIloaded && currentUser}\n                synchNotes={synchNotes}\n                darkMode={darkMode}\n            />\n            \n        </div>\n    )\n}\nexport default NotesPage"],"sourceRoot":""}